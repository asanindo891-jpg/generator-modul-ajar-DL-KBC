<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Generator Modul Ajar AI</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  min-height: 100vh;
  padding: 20px;
}
.container {
  background: white;
  border-radius: 20px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.3);
  max-width: 700px;
  margin: 20px auto;
  padding: 40px;
}
h1 {
  color: #667eea;
  text-align: center;
  margin-bottom: 10px;
  font-size: 2em;
}
.subtitle {
  text-align: center;
  color: #666;
  margin-bottom: 30px;
  font-size: 0.9em;
}
.form-group {
  margin-bottom: 20px;
}
label {
  display: block;
  margin-bottom: 8px;
  color: #333;
  font-weight: 600;
}
input, select, textarea {
  width: 100%;
  padding: 12px;
  border: 2px solid #e0e0e0;
  border-radius: 10px;
  font-size: 1em;
  font-family: inherit;
}
input:focus, select:focus, textarea:focus {
  outline: none;
  border-color: #667eea;
}
.btn {
  width: 100%;
  padding: 15px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border: none;
  border-radius: 10px;
  font-size: 1.1em;
  font-weight: bold;
  cursor: pointer;
  margin-top: 10px;
}
.btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
}
.btn-download {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
}
.btn-lkpd {
  background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
}
.info-box {
  background: #fef3c7;
  border-left: 4px solid #f59e0b;
  padding: 15px;
  border-radius: 5px;
  margin-bottom: 20px;
  font-size: 0.9em;
}
.result-box {
  display: none;
  background: #d1fae5;
  border: 2px solid #10b981;
  border-radius: 10px;
  padding: 20px;
  margin-top: 20px;
}
.result-box h3 {
  color: #065f46;
  margin-bottom: 15px;
}
.preview {
  background: white;
  border: 1px solid #ddd;
  border-radius: 5px;
  padding: 15px;
  max-height: 300px;
  overflow-y: auto;
  font-size: 0.9em;
  margin: 15px 0;
}
.loading {
  display: none;
  text-align: center;
  padding: 20px;
}
.spinner {
  border: 4px solid #f3f3f3;
  border-top: 4px solid #667eea;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  animation: spin 1s linear infinite;
  margin: 0 auto;
}
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
.bonus-box {
  background: #fef3c7;
  border: 2px solid #f59e0b;
  border-radius: 10px;
  padding: 20px;
  margin-top: 20px;
}
.bonus-box h3 {
  color: #92400e;
  margin-bottom: 10px;
}
.tips-box {
  background: #e0e7ff;
  border: 2px solid #6366f1;
  border-radius: 10px;
  padding: 20px;
  margin-top: 15px;
}
.tips-box h4 {
  color: #3730a3;
  margin-bottom: 10px;
}
.tips-box ul {
  color: #4338ca;
  margin-left: 20px;
  line-height: 1.8;
}
</style>
</head>
<body>

<!-- SLOT IKLAN ATAS (Header) -->
<div style="text-align:center;padding:10px;background:#f0f0f0;margin-bottom:10px">
  <div id="ad-slot-header">
    <p style="color:#999;font-size:0.8em">[ Space untuk Iklan Header ]</p>
  </div>
</div>

<div class="container">
  <h1>ü§ñ Generator Modul Ajar AI</h1>
  <p class="subtitle">Kurikulum Merdeka - Sesuai Permendikdasmen No. 12 Tahun 2025</p>
  
  <div class="info-box">
    <strong>‚ú® Fitur Terbaru:</strong> Modul lengkap sesuai Permendikdasmen No. 12/2025 + 3 Lampiran (Bahan Bacaan, Glosarium, Daftar Pustaka)
  </div>

  <div id="formArea">
    <div class="form-group">
      <label>Jenjang Pendidikan *</label>
      <select id="jenjang">
        <option value="">-- Pilih --</option>
        <option value="SD">SD</option>
        <option value="SMP">SMP</option>
        <option value="MTs">MTs</option>
        <option value="SMA">SMA</option>
        <option value="MA">MA</option>
        <option value="SMK">SMK</option>
      </select>
    </div>

    <div class="form-group">
      <label>Mata Pelajaran *</label>
      <input type="text" id="mapel" placeholder="Contoh: Matematika, IPA">
    </div>

    <div class="form-group">
      <label>Kelas *</label>
      <input type="text" id="kelas" placeholder="Contoh: VII, X, 5">
    </div>

    <div class="form-group">
      <label>Topik/Materi *</label>
      <input type="text" id="topik" placeholder="Contoh: Persamaan Linear">
    </div>

    <div class="form-group">
      <label>Jenis Pembelajaran *</label>
      <select id="jenisPembelajaran">
        <option value="">-- Pilih --</option>
        <option value="Tatap Muka">Tatap Muka</option>
        <option value="Daring (Online)">Daring (Online)</option>
        <option value="Hybrid (Blended)">Hybrid (Blended)</option>
      </select>
    </div>

    <div class="form-group">
      <label>Durasi Pembelajaran *</label>
      <select id="durasi">
        <option value="">-- Pilih --</option>
        <option value="1">1x Pertemuan (2 x 45 menit)</option>
        <option value="2">2x Pertemuan (4 x 45 menit)</option>
        <option value="3">3x Pertemuan (6 x 45 menit)</option>
      </select>
    </div>

    <div class="form-group">
      <label>Tema Pendidikan (Opsional)</label>
      <select id="tema">
        <option value="">-- Tidak Ada Tema Khusus --</option>
        <option value="STEM">STEM (Science, Technology, Engineering, Mathematics)</option>
        <option value="Literasi">Literasi (Membaca, Menulis, Berbicara)</option>
        <option value="Numerasi">Numerasi (Matematika & Logika)</option>
        <option value="Kewirausahaan">Kewirausahaan</option>
        <option value="Kearifan Lokal">Kearifan Lokal</option>
        <option value="Lingkungan">Pendidikan Lingkungan Hidup</option>
        <option value="Karakter">Pendidikan Karakter</option>
        <option value="Digital">Literasi Digital</option>
      </select>
    </div>

    <button class="btn" onclick="generate()">üöÄ Generate Modul Sekarang</button>
    
    <!-- SLOT IKLAN TENGAH -->
    <div style="text-align:center;padding:20px;margin-top:20px;background:#f9f9f9;border-radius:10px">
      <div id="ad-slot-middle">
        <p style="color:#999;font-size:0.8em">[ Space untuk Iklan Tengah ]</p>
      </div>
    </div>
  </div>

  <div id="loadingArea" class="loading">
    <div class="spinner"></div>
    <p style="margin-top:15px;color:#667eea;font-weight:600">Sedang membuat modul...</p>
  </div>

  <div id="resultArea" class="result-box">
    <h3>‚úÖ Modul Berhasil Dibuat!</h3>
    <p style="margin-bottom:15px">Preview singkat:</p>
    <div class="preview" id="preview"></div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:15px">
      <button class="btn btn-download" onclick="showFullPreview()">üëÅÔ∏è Preview Lengkap</button>
      <button class="btn btn-download" onclick="downloadWord()">üì• Download TXT</button>
    </div>
    <button class="btn btn-download" onclick="downloadPDF()" style="margin-top:10px;background:linear-gradient(135deg,#ef4444,#dc2626)">üìÑ Download PDF</button>
    
    <!-- BONUS LKPD & SOAL HOTS -->
    <div class="bonus-box">
      <h3>üéÅ BONUS GRATIS!</h3>
      <p style="color:#78350f;margin-bottom:15px">Dapatkan pelengkap pembelajaran yang sudah disesuaikan dengan modul ajar Anda!</p>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
        <button class="btn btn-lkpd" onclick="downloadLKPD()">üìã Download LKPD</button>
        <button class="btn btn-lkpd" style="background:linear-gradient(135deg,#8b5cf6,#7c3aed)" onclick="downloadSoalHOTS()">üß† Download Soal HOTS</button>
      </div>
      <p style="margin-top:15px;font-size:0.85em;color:#92400e">
        üíù <strong>Jika bermanfaat, bantu kami dengan:</strong><br>
        ‚Ä¢ Share ke sesama guru di grup WhatsApp/Telegram<br>
        ‚Ä¢ Berikan rating bintang 5 ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê<br>
        ‚Ä¢ Tulis komentar positif di blog kami<br>
        ‚Ä¢ Follow media sosial kami untuk update terbaru
      </p>
    </div>
    
    <!-- TIPS PENGGUNAAN -->
    <div class="tips-box">
      <h4>üí° Tips Penggunaan:</h4>
      <ul>
        <li>File didownload dalam format TXT yang bisa dibuka di Word</li>
        <li>Edit nama guru, NIP, dan sesuaikan dengan kebutuhan</li>
        <li>Tambahkan logo sekolah untuk tampilan profesional</li>
        <li>LKPD sudah lengkap dengan rubrik penilaian</li>
      </ul>
    </div>
    
    <button class="btn" onclick="reset()" style="margin-top:15px;background:#6b7280">üìù Buat Modul Baru</button>
    <a href="https://bahasaindonesiama.blogspot.com" target="_blank" class="btn" style="margin-top:10px;background:linear-gradient(135deg,#ef4444,#dc2626);text-decoration:none;display:block;text-align:center">üè† Kembali ke Blog</a>
    
    <!-- SLOT IKLAN BAWAH -->
    <div style="text-align:center;padding:20px;margin-top:20px;background:#f9f9f9;border-radius:10px">
      <div id="ad-slot-bottom">
        <p style="color:#999;font-size:0.8em">[ Space untuk Iklan Bawah ]</p>
      </div>
    </div>
  </div>
</div>

<!-- SLOT IKLAN FOOTER -->
<div style="text-align:center;padding:20px;background:#f0f0f0;margin-top:20px">
  <div id="ad-slot-footer">
    <p style="color:#999;font-size:0.8em">[ Space untuk Iklan Footer ]</p>
  </div>
</div>

<!-- Modal Preview -->
<div id="previewModal" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);z-index:1000;overflow:auto">
  <div style="background:white;max-width:900px;margin:20px auto;border-radius:15px;position:relative">
    <div style="position:sticky;top:0;background:white;padding:20px;border-bottom:2px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center;border-radius:15px 15px 0 0">
      <h2 style="color:#667eea;margin:0">üìÑ Preview Lengkap Modul Ajar</h2>
      <button onclick="closePreview()" style="background:#ef4444;color:white;border:none;padding:10px 20px;border-radius:8px;cursor:pointer;font-weight:bold">‚úï Tutup</button>
    </div>
    <div id="fullPreview" style="padding:30px;white-space:pre-wrap;font-family:monospace;font-size:0.9em;line-height:1.6"></div>
  </div>
</div>

<script>
let modulData = null;

function generate() {
  const jenjang = document.getElementById('jenjang').value;
  const mapel = document.getElementById('mapel').value.trim();
  const kelas = document.getElementById('kelas').value.trim();
  const topik = document.getElementById('topik').value.trim();
  const jenisPembelajaran = document.getElementById('jenisPembelajaran').value;
  const durasi = document.getElementById('durasi').value;
  const tema = document.getElementById('tema').value;

  if (!jenjang || !mapel || !kelas || !topik || !jenisPembelajaran || !durasi) {
    alert('‚ö†Ô∏è Mohon isi semua field yang wajib (*)');
    return;
  }

  document.getElementById('formArea').style.display = 'none';
  document.getElementById('loadingArea').style.display = 'block';

  setTimeout(function() {
    modulData = buatModul(jenjang, mapel, kelas, topik, jenisPembelajaran, durasi, tema);
    tampilkanHasil();
  }, 1500);
}

function buatModul(jenjang, mapel, kelas, topik, jenisPembelajaran, durasi, tema) {
  const waktuPertemuan = durasi === "1" ? "2 x 45 menit" : durasi === "2" ? "4 x 45 menit (2 pertemuan)" : "6 x 45 menit (3 pertemuan)";
  const temaInfo = tema ? `\nTema Pendidikan    : ${tema}` : '';
  
  // Konten disesuaikan dengan jenis pembelajaran
  const metodePembelajaran = jenisPembelajaran === "Tatap Muka" 
    ? "ceramah interaktif, diskusi kelompok, eksperimen langsung, presentasi"
    : jenisPembelajaran === "Daring (Online)"
    ? "video conference, forum diskusi online, tugas digital, quiz online, breakout room"
    : "kombinasi tatap muka dan online, flipped classroom, pembelajaran sinkron dan asinkron";

  const mediaPembelajaran = jenisPembelajaran === "Tatap Muka"
    ? "papan tulis, proyektor, alat peraga fisik, LKPD cetak"
    : jenisPembelajaran === "Daring (Online)"
    ? "Zoom/Google Meet, Google Classroom, Kahoot, Quizizz, Padlet, Mentimeter"
    : "kombinasi media tatap muka dan digital, LMS, video pembelajaran";

  const temaKeterkaitan = tema ? `\n\nKETERKAITAN DENGAN TEMA ${tema}:
Pembelajaran ${topik} terintegrasi dengan tema ${tema} melalui pendekatan kontekstual yang menghubungkan konsep dengan aplikasi nyata di bidang ${tema}.` : '';
  
  return {
    jenjang: jenjang,
    mapel: mapel,
    kelas: kelas,
    topik: topik,
    jenisPembelajaran: jenisPembelajaran,
    durasi: durasi,
    tema: tema,
    
    identitas: `MODUL AJAR KURIKULUM MERDEKA
Berdasarkan Permendikdasmen No. 12 Tahun 2025
tentang Standar Isi pada PAUD, Pendidikan Dasar, dan Pendidikan Menengah

Jenjang Pendidikan : ${jenjang}
Mata Pelajaran     : ${mapel}
Kelas/Semester     : ${kelas} / 1
Tahun Pelajaran    : 2025/2026
Jenis Pembelajaran : ${jenisPembelajaran}
Alokasi Waktu      : ${waktuPertemuan}${temaInfo}
Topik/Materi       : ${topik}`,

    cp: `Berdasarkan Permendikdasmen No. 12 Tahun 2025, peserta didik mampu memahami, menganalisis, dan menerapkan konsep ${topik} dalam mata pelajaran ${mapel} yang relevan dengan ruang lingkup materi standar isi, dengan mengembangkan kemampuan berpikir tingkat tinggi (HOTS), kreativitas, keterampilan pemecahan masalah, serta penerapan nilai-nilai Pancasila dan profil pelajar Pancasila dalam kehidupan sehari-hari melalui pembelajaran ${jenisPembelajaran}.${temaKeterkaitan}`,

    tujuan: `Setelah mengikuti pembelajaran ${jenisPembelajaran} selama ${durasi} pertemuan, peserta didik diharapkan mampu:
1. Menganalisis konsep dasar ${topik} sesuai standar isi dan kaitannya dengan kehidupan nyata
2. Mengevaluasi berbagai strategi dalam menyelesaikan masalah terkait ${topik} dengan berpikir kritis
3. Menciptakan solusi inovatif atau produk kreatif berdasarkan pemahaman ${topik}
4. Mengintegrasikan nilai-nilai Pancasila dalam penerapan konsep ${topik}
5. Mengembangkan kompetensi literasi, numerasi, dan keterampilan abad 21${tema ? `\n6. Menerapkan konsep ${topik} dalam konteks ${tema}` : ''}`,

    pemahaman: `1. ${topik} merupakan konsep penting dalam ${mapel} yang memiliki aplikasi praktis dalam kehidupan
2. Memahami ${topik} membantu peserta didik mengembangkan kemampuan berpikir logis dan sistematis
3. Penguasaan ${topik} memberikan fondasi kuat untuk pembelajaran materi selanjutnya
4. Pembelajaran ${jenisPembelajaran} memungkinkan fleksibilitas dan personalisasi pembelajaran${tema ? `\n5. Integrasi dengan tema ${tema} memperkaya pemahaman kontekstual` : ''}`,

    pemantik: `1. Mengapa ${topik} penting untuk dipelajari dalam konteks kehidupan modern?
2. Bagaimana ${topik} dapat diterapkan untuk menyelesaikan masalah nyata?
3. Apa hubungan ${topik} dengan materi yang telah kita pelajari sebelumnya?
4. Bagaimana pembelajaran ${jenisPembelajaran} dapat membantu kita memahami ${topik} dengan lebih baik?${tema ? `\n5. Bagaimana ${topik} berkaitan dengan ${tema}?` : ''}`,

    pendahuluan: jenisPembelajaran === "Daring (Online)" 
      ? `1. Guru membuka sesi online, memastikan semua siswa terhubung, dan melakukan presensi digital
2. Guru melakukan ice breaking dan apersepsi melalui polling/quiz interaktif tentang ${topik}
3. Guru menyampaikan tujuan pembelajaran melalui slide presentasi
4. Guru memberikan motivasi dengan menampilkan video/studi kasus tentang aplikasi ${topik}
5. Guru menjelaskan aturan pembelajaran online dan etika virtual classroom
6. Guru menyampaikan rencana kegiatan dan metode penilaian digital`
      : jenisPembelajaran === "Hybrid (Blended)"
      ? `1. Guru membuka pembelajaran (online/offline sesuai jadwal) dengan salam, berdoa, dan presensi
2. Guru melakukan apersepsi melalui platform digital atau tatap muka
3. Guru menyampaikan tujuan pembelajaran melalui LMS dan presentasi
4. Guru memberikan motivasi dengan menampilkan konten multimedia tentang ${topik}
5. Guru menjelaskan alur pembelajaran hybrid (sinkron dan asinkron)
6. Guru menyampaikan rencana kegiatan blended dan metode penilaian`
      : `1. Guru membuka pembelajaran dengan salam, berdoa, dan mengecek kehadiran
2. Guru melakukan apersepsi dengan mengaitkan ${topik} dengan pengalaman peserta didik
3. Guru menyampaikan tujuan pembelajaran dan kompetensi yang akan dicapai
4. Guru memberikan motivasi dengan menjelaskan manfaat ${topik} dalam kehidupan
5. Guru menyampaikan rencana kegiatan dan metode penilaian`,

    inti: jenisPembelajaran === "Daring (Online)"
      ? `FASE EKSPLORASI (Online):
- Peserta didik mengamati video, simulasi digital, atau studi kasus tentang ${topik} yang dibagikan di LMS
- Guru memfasilitasi diskusi melalui breakout room atau forum diskusi
- Peserta didik merumuskan pertanyaan melalui chat atau padlet

FASE ELABORASI (Online):
- Peserta didik dibagi dalam breakout room (4-5 orang)
- Setiap kelompok melakukan eksplorasi melalui sumber digital, kolaborasi di Google Docs/Jamboard
- Guru monitoring melalui kunjungan ke breakout room
- Peserta didik menganalisis data digital dan menyusun kesimpulan di platform kolaboratif

FASE KREASI (Online):
- Setiap kelompok mempresentasikan hasil melalui screen sharing
- Kelompok lain memberikan feedback melalui chat atau fitur reaksi
- Peserta didik menciptakan produk digital: presentasi, video, infografis, website
- Menyusun kesimpulan di forum diskusi`
      : jenisPembelajaran === "Hybrid (Blended)"
      ? `PERTEMUAN 1 (Tatap Muka):
- Eksplorasi konsep ${topik} melalui demonstrasi dan diskusi kelompok
- Guru memberikan penjelasan fundamental dan praktik langsung
- Peserta didik melakukan eksperimen/observasi langsung

PERTEMUAN 2 (Daring - Asinkron):
- Peserta didik mendalami materi melalui video pembelajaran di LMS
- Mengerjakan tugas digital dan kuis online
- Diskusi di forum online tentang penerapan ${topik}

PERTEMUAN 3 (Tatap Muka/Daring Sinkron):
- Presentasi hasil eksplorasi kelompok
- Pembuatan produk/proyek terkait ${topik}
- Evaluasi dan refleksi pembelajaran`
      : `FASE EKSPLORASI:
- Peserta didik mengamati fenomena, video, atau studi kasus terkait ${topik}
- Guru memfasilitasi diskusi untuk mengidentifikasi masalah
- Peserta didik merumuskan pertanyaan atau hipotesis tentang ${topik}

FASE ELABORASI:
- Peserta didik dibagi dalam kelompok kecil (4-5 orang)
- Setiap kelompok melakukan eksplorasi mendalam tentang ${topik} melalui diskusi, membaca sumber, dan eksperimen
- Guru berkeliling membimbing proses pembelajaran
- Peserta didik menganalisis data dan menyusun kesimpulan

FASE KREASI:
- Setiap kelompok mempresentasikan hasil analisis
- Kelompok lain memberikan tanggapan dan saran
- Peserta didik menciptakan produk yang mendemonstrasikan pemahaman: laporan, presentasi, model, atau video
- Menyusun kesimpulan akhir dan generalisasi konsep`,

    penutup: jenisPembelajaran === "Daring (Online)"
      ? `1. Guru dan peserta didik menyimpulkan pembelajaran melalui fitur polling atau quiz interaktif
2. Peserta didik melakukan refleksi melalui form digital
3. Guru memberikan penguatan dan apresiasi melalui fitur award/badge
4. Guru melakukan penilaian sikap berdasarkan partisipasi online
5. Guru menyampaikan rencana pembelajaran berikutnya dan mengunggah materi ke LMS
6. Guru memberikan tugas online sebagai tindak lanjut
7. Pembelajaran ditutup dengan doa bersama`
      : `1. Guru dan peserta didik menyimpulkan materi pembelajaran tentang ${topik}
2. Peserta didik melakukan refleksi: Apa yang dipelajari? Apa tantangan? Bagaimana manfaatnya?
3. Guru memberikan penguatan terhadap pencapaian peserta didik
4. Guru melakukan penilaian sikap selama pembelajaran
5. Guru menyampaikan rencana pembelajaran berikutnya
6. Guru memberikan tugas sebagai tindak lanjut
7. Pembelajaran ditutup dengan doa dan salam`,

    asesmen: `ASESMEN DIAGNOSTIK:
- Pre-test tentang konsep prasyarat ${topik}${jenisPembelajaran === "Daring (Online)" ? " (melalui Google Form/Quizizz)" : ""}
- Tanya jawab untuk mengeksplorasi pemahaman awal
- Observasi kesiapan dan motivasi belajar
Hasil digunakan untuk diferensiasi pembelajaran.

ASESMEN FORMATIF:
- Observasi aktivitas dan partisipasi ${jenisPembelajaran === "Daring (Online)" ? "online" : "diskusi"}
- Penilaian hasil kerja kelompok${jenisPembelajaran === "Daring (Online)" ? " digital" : ""}
- Kuis singkat di pertengahan pembelajaran${jenisPembelajaran === "Daring (Online)" ? " (Kahoot/Mentimeter)" : ""}
- Peer assessment dan self assessment${jenisPembelajaran === "Daring (Online)" ? " melalui form digital" : ""}
Umpan balik diberikan segera untuk perbaikan.

ASESMEN SUMATIF:
1. Tes Tertulis (40%)${jenisPembelajaran === "Daring (Online)" ? " (online melalui platform LMS)" : ""}: Pilihan ganda dan uraian untuk mengukur pemahaman ${topik}
2. Penilaian Proyek (40%): Kualitas produk${jenisPembelajaran === "Daring (Online)" ? " digital" : ""}, kreativitas, dan kesesuaian kriteria
3. Presentasi (20%): Kemampuan komunikasi${jenisPembelajaran === "Daring (Online)" ? " virtual" : ""} dan menjawab pertanyaan`,

    diferensiasi: `DIFERENSIASI KONTEN:
- Tingkat Dasar: Materi sederhana dengan banyak contoh visual${jenisPembelajaran === "Daring (Online)" ? " dan video pendek" : ""}
- Tingkat Menengah: Materi lebih kompleks dengan variasi contoh
- Tingkat Lanjut: Materi mendalam dengan analisis kritis
Tersedia dalam berbagai format: teks, video, audio, infografis${jenisPembelajaran === "Daring (Online)" ? ", modul interaktif" : ""}

DIFERENSIASI PROSES:
- Visual: Diagram, video, infografis${jenisPembelajaran === "Daring (Online)" ? ", simulasi digital" : ""}
- Auditori: Diskusi, podcast, penjelasan verbal${jenisPembelajaran === "Daring (Online)" ? ", audio conference" : ""}
- Kinestetik: ${jenisPembelajaran === "Daring (Online)" ? "Simulasi virtual, proyek digital" : "Eksperimen, simulasi, proyek"}
- Fleksibilitas: Individual, kelompok kecil${jenisPembelajaran === "Daring (Online)" ? " (breakout room)" : ""}, atau klasikal
- Scaffolding: Panduan terstruktur dan peer tutoring${jenisPembelajaran === "Daring (Online)" ? " melalui forum diskusi" : ""}

DIFERENSIASI PRODUK:
- Tertulis: Laporan, essay, artikel, portfolio${jenisPembelajaran === "Daring (Online)" ? " digital" : ""}
- Visual: Poster${jenisPembelajaran === "Daring (Online)" ? " digital" : ""}, presentasi, video, infografis
- Praktis: Model, prototype${jenisPembelajaran === "Daring (Online)" ? " virtual" : ""}, demonstrasi
- Digital: Website, blog, aplikasi, podcast${jenisPembelajaran === "Daring (Online)" ? ", video interaktif" : ""}
Setiap produk memiliki rubrik penilaian yang jelas`,

    p5: `PROFIL PELAJAR PANCASILA

Dimensi yang Dikembangkan:
1. Beriman, Bertakwa kepada Tuhan YME, dan Berakhlak Mulia
2. Berkebinekaan Global
3. Bergotong Royong
4. Mandiri
5. Bernalar Kritis
6. Kreatif

Keterkaitan dengan Pembelajaran:
Pembelajaran ${topik} melalui ${jenisPembelajaran} mengembangkan kemampuan bernalar kritis melalui analisis masalah, kreativitas dalam menciptakan solusi, kemandirian dalam proses belajar${jenisPembelajaran === "Daring (Online)" ? " mandiri dan disiplin waktu" : ""}, kerja sama dalam kelompok${jenisPembelajaran === "Daring (Online)" ? " virtual" : ""}, menghargai keberagaman pendapat, dan menggunakan ilmu untuk kebaikan.${tema ? `\n\nIntegrasi dengan tema ${tema} memperkuat pengembangan profil pelajar Pancasila melalui pembelajaran kontekstual yang bermakna.` : ''}`,

    media: `MEDIA PEMBELAJARAN DAN SUMBER BELAJAR:
${jenisPembelajaran === "Daring (Online)" 
  ? `1. Platform Video Conference: Zoom/Google Meet/Microsoft Teams
2. Learning Management System (LMS): Google Classroom/Moodle
3. Tools Kolaborasi: Google Docs, Jamboard, Padlet, Miro
4. Quiz Interaktif: Kahoot, Quizizz, Mentimeter, Socrative
5. Video pembelajaran: YouTube edukatif, video self-made
6. E-book dan modul digital ${mapel}
7. Simulasi dan laboratorium virtual
8. Aplikasi mobile learning terkait ${topik}
9. Sumber digital: jurnal online, artikel, e-library
10. Tools presentasi: Canva, Prezi, PowerPoint Online`
  : jenisPembelajaran === "Hybrid (Blended)"
  ? `1. Platform LMS: Google Classroom/Moodle untuk materi asinkron
2. Video Conference: Zoom/Google Meet untuk sesi sinkron
3. Buku teks ${mapel} ${jenjang} Kelas ${kelas}
4. LKPD digital dan cetak
5. Video pembelajaran dan multimedia interaktif
6. Quiz online: Kahoot, Quizizz, Google Form
7. Alat peraga fisik (untuk sesi tatap muka)
8. Proyektor/LCD dan laptop
9. Tools kolaborasi: Padlet, Jamboard, Google Docs
10. Sumber belajar hybrid: buku, e-book, artikel digital`
  : `1. Buku teks ${mapel} ${jenjang} Kelas ${kelas}
2. Modul dan LKPD (Lembar Kerja Peserta Didik)
3. Video pembelajaran dari platform edukatif
4. Aplikasi dan software edukatif terkait ${topik}
5. Sumber digital: artikel, jurnal, e-book, website edukatif
6. Alat peraga dan media konkret
7. Proyektor/LCD dan laptop
8. Internet dan platform pembelajaran online
9. Laboratorium (jika diperlukan)
10. Lingkungan sekitar sebagai sumber belajar`}${tema ? `\n\nSumber khusus tema ${tema}:\n- Materi dan referensi terkait ${tema}\n- Studi kasus dan contoh aplikasi di bidang ${tema}\n- Narasumber atau praktisi ${tema}` : ''}`,

    bahanBacaan: `BAHAN BACAAN GURU DAN PESERTA DIDIK

A. UNTUK GURU:
1. Permendikdasmen No. 12 Tahun 2025
2. Panduan Pembelajaran Kurikulum Merdeka
3. Buku Guru ${mapel} Kelas ${kelas}
4. Panduan Pembelajaran ${jenisPembelajaran}${tema ? `\n5. Referensi khusus tema ${tema}` : ''}

B. UNTUK PESERTA DIDIK:
1. Buku Siswa ${mapel} Kelas ${kelas}
2. Artikel tentang ${topik}
3. Video edukatif ${topik}${jenisPembelajaran === "Daring (Online)" ? '\n4. E-modul interaktif\n5. Tutorial online' : ''}${tema ? `\n6. Bahan bacaan tema ${tema}` : ''}`,

    glosarium: `GLOSARIUM

1. Asesmen: Pengukuran pencapaian belajar
2. HOTS: Kemampuan berpikir tingkat tinggi
3. Diferensiasi: Penyesuaian pembelajaran
4. ${jenisPembelajaran === "Daring (Online)" ? "LMS: Learning Management System - Platform pembelajaran online" : jenisPembelajaran === "Hybrid (Blended)" ? "Blended Learning: Kombinasi pembelajaran tatap muka dan online" : "Pembelajaran Tatap Muka: Pembelajaran langsung di kelas"}
5. ${topik}: Materi fokus pembelajaran${tema ? `\n6. ${tema}: Tema pendidikan yang diintegrasikan dalam pembelajaran` : ''}`,

    daftarPustaka: `DAFTAR PUSTAKA

1. Kemendikdasmen. (2025). Permendikdasmen No. 12/2025
2. Buku Guru ${mapel} Kelas ${kelas}
3. Buku Siswa ${mapel} Kelas ${kelas}${jenisPembelajaran !== "Tatap Muka" ? `\n4. Panduan Pembelajaran ${jenisPembelajaran} Kurikulum Merdeka` : ''}${tema ? `\n5. Referensi tema ${tema}` : ''}`,

    tandaTangan: `

Mengetahui,                                         
Kepala Sekolah                          Guru Mata Pelajaran




_______________________                 _______________________
NIP.                                    NIP.`
  };
}}`,

    tandaTangan: `

Mengetahui,                                         
Kepala Sekolah                          Guru Mata Pelajaran




_______________________                 _______________________
NIP.                                    NIP.`
  };
}

function tampilkanHasil() {
  const preview = `${modulData.identitas}

A. CAPAIAN PEMBELAJARAN
${modulData.cp}

B. TUJUAN PEMBELAJARAN
${modulData.tujuan}

(... 9 komponen lengkap + 3 Lampiran)

üìã LAMPIRAN LENGKAP:
‚úì Bahan Bacaan
‚úì Glosarium
‚úì Daftar Pustaka`;

  document.getElementById('preview').textContent = preview;
  document.getElementById('loadingArea').style.display = 'none';
  document.getElementById('resultArea').style.display = 'block';
  
  setTimeout(function() {
    document.getElementById('resultArea').scrollIntoView({ behavior: 'smooth', block: 'start' });
  }, 100);
}

function downloadWord() {
  const content = `${modulData.identitas}

================================================================================
A. CAPAIAN PEMBELAJARAN (CP)
================================================================================
${modulData.cp}


================================================================================
B. TUJUAN PEMBELAJARAN
================================================================================
${modulData.tujuan}


================================================================================
C. PEMAHAMAN BERMAKNA
================================================================================
${modulData.pemahaman}


================================================================================
D. PERTANYAAN PEMANTIK
================================================================================
${modulData.pemantik}


================================================================================
E. KEGIATAN PEMBELAJARAN
================================================================================

1. KEGIATAN PENDAHULUAN
${modulData.pendahuluan}

2. KEGIATAN INTI
${modulData.inti}

3. KEGIATAN PENUTUP
${modulData.penutup}


================================================================================
F. ASESMEN
================================================================================
${modulData.asesmen}


================================================================================
G. PEMBELAJARAN BERDIFERENSIASI
================================================================================
${modulData.diferensiasi}


================================================================================
H. PROFIL PELAJAR PANCASILA
================================================================================
${modulData.p5}


================================================================================
I. MEDIA PEMBELAJARAN DAN SUMBER BELAJAR
================================================================================
${modulData.media}


================================================================================
LAMPIRAN
================================================================================

LAMPIRAN 1: BAHAN BACAAN
${modulData.bahanBacaan}


LAMPIRAN 2: GLOSARIUM
${modulData.glosarium}


LAMPIRAN 3: DAFTAR PUSTAKA
${modulData.daftarPustaka}


${modulData.tandaTangan}


================================================================================
Generated by AI - BahasaIndonesiaMA.blogspot.com
Berdasarkan Permendikdasmen No. 12 Tahun 2025
================================================================================`;

  const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
  const link = document.createElement('a');
  link.href = URL.createObjectURL(blob);
  link.download = `Modul_${modulData.mapel.replace(/\s+/g,'_')}_${modulData.kelas}.txt`;
  link.click();
  
  alert('‚úÖ Modul berhasil didownload!\n\nSesuai Permendikdasmen No. 12/2025');
}

function downloadPDF() {
  // Karena browser tidak support generate PDF native tanpa library,
  // kita akan memberikan instruksi kepada user
  const content = `${modulData.identitas}

================================================================================
A. CAPAIAN PEMBELAJARAN (CP)
================================================================================
${modulData.cp}


================================================================================
B. TUJUAN PEMBELAJARAN
================================================================================
${modulData.tujuan}


================================================================================
C. PEMAHAMAN BERMAKNA
================================================================================
${modulData.pemahaman}


================================================================================
D. PERTANYAAN PEMANTIK
================================================================================
${modulData.pemantik}


================================================================================
E. KEGIATAN PEMBELAJARAN
================================================================================

1. KEGIATAN PENDAHULUAN
${modulData.pendahuluan}

2. KEGIATAN INTI
${modulData.inti}

3. KEGIATAN PENUTUP
${modulData.penutup}


================================================================================
F. ASESMEN
================================================================================
${modulData.asesmen}


================================================================================
G. PEMBELAJARAN BERDIFERENSIASI
================================================================================
${modulData.diferensiasi}


================================================================================
H. PROFIL PELAJAR PANCASILA
================================================================================
${modulData.p5}


================================================================================
I. MEDIA PEMBELAJARAN DAN SUMBER BELAJAR
================================================================================
${modulData.media}


================================================================================
LAMPIRAN
================================================================================

LAMPIRAN 1: BAHAN BACAAN
${modulData.bahanBacaan}


LAMPIRAN 2: GLOSARIUM
${modulData.glosarium}


LAMPIRAN 3: DAFTAR PUSTAKA
${modulData.daftarPustaka}


${modulData.tandaTangan}


================================================================================
Generated by AI - BahasaIndonesiaMA.blogspot.com
Berdasarkan Permendikdasmen No. 12 Tahun 2025
================================================================================`;

  // Create HTML for PDF-friendly format
  const htmlContent = `<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Modul Ajar - ${modulData.mapel} ${modulData.kelas}</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; line-height: 1.6; }
    h1 { color: #333; border-bottom: 3px solid #667eea; padding-bottom: 10px; }
    h2 { color: #667eea; margin-top: 30px; border-bottom: 2px solid #ddd; padding-bottom: 5px; }
    h3 { color: #555; }
    pre { white-space: pre-wrap; background: #f5f5f5; padding: 15px; border-left: 4px solid #667eea; }
    .header { text-align: center; margin-bottom: 30px; }
    .section { margin-bottom: 30px; page-break-inside: avoid; }
    hr { border: none; border-top: 1px solid #ddd; margin: 30px 0; }
    @media print {
      body { margin: 20px; }
      .no-print { display: none; }
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>MODUL AJAR KURIKULUM MERDEKA</h1>
    <p><strong>Berdasarkan Permendikdasmen No. 12 Tahun 2025</strong></p>
  </div>
  
  <div class="section">
    <h2>IDENTITAS MODUL</h2>
    <pre>${modulData.identitas}</pre>
  </div>

  <div class="section">
    <h2>A. CAPAIAN PEMBELAJARAN (CP)</h2>
    <p>${modulData.cp}</p>
  </div>

  <div class="section">
    <h2>B. TUJUAN PEMBELAJARAN</h2>
    <pre>${modulData.tujuan}</pre>
  </div>

  <div class="section">
    <h2>C. PEMAHAMAN BERMAKNA</h2>
    <pre>${modulData.pemahaman}</pre>
  </div>

  <div class="section">
    <h2>D. PERTANYAAN PEMANTIK</h2>
    <pre>${modulData.pemantik}</pre>
  </div>

  <div class="section">
    <h2>E. KEGIATAN PEMBELAJARAN</h2>
    <h3>1. KEGIATAN PENDAHULUAN</h3>
    <pre>${modulData.pendahuluan}</pre>
    <h3>2. KEGIATAN INTI</h3>
    <pre>${modulData.inti}</pre>
    <h3>3. KEGIATAN PENUTUP</h3>
    <pre>${modulData.penutup}</pre>
  </div>

  <div class="section">
    <h2>F. ASESMEN</h2>
    <pre>${modulData.asesmen}</pre>
  </div>

  <div class="section">
    <h2>G. PEMBELAJARAN BERDIFERENSIASI</h2>
    <pre>${modulData.diferensiasi}</pre>
  </div>

  <div class="section">
    <h2>H. PROFIL PELAJAR PANCASILA</h2>
    <pre>${modulData.p5}</pre>
  </div>

  <div class="section">
    <h2>I. MEDIA PEMBELAJARAN DAN SUMBER BELAJAR</h2>
    <pre>${modulData.media}</pre>
  </div>

  <hr>

  <div class="section">
    <h2>LAMPIRAN 1: BAHAN BACAAN</h2>
    <pre>${modulData.bahanBacaan}</pre>
  </div>

  <div class="section">
    <h2>LAMPIRAN 2: GLOSARIUM</h2>
    <pre>${modulData.glosarium}</pre>
  </div>

  <div class="section">
    <h2>LAMPIRAN 3: DAFTAR PUSTAKA</h2>
    <pre>${modulData.daftarPustaka}</pre>
  </div>

  <div class="section">
    <pre>${modulData.tandaTangan}</pre>
  </div>

  <div class="section" style="text-align: center; margin-top: 50px; color: #888;">
    <p>Generated by AI - BahasaIndonesiaMA.blogspot.com</p>
    <p>Berdasarkan Permendikdasmen No. 12 Tahun 2025</p>
  </div>

  <script>
    // Auto print when page loads
    window.onload = function() {
      setTimeout(function() {
        window.print();
      }, 500);
    };
  </script>
</body>
</html>`;

  // Open in new window for printing to PDF
  const printWindow = window.open('', '_blank');
  printWindow.document.write(htmlContent);
  printWindow.document.close();
  
  alert('üìÑ Halaman cetak telah dibuka!\n\nCara menyimpan sebagai PDF:\n\n1. Klik Print/Cetak (Ctrl+P)\n2. Pilih "Save as PDF" atau "Microsoft Print to PDF"\n3. Klik Save\n4. Pilih lokasi penyimpanan\n5. File PDF siap digunakan!\n\nüí° Tip: Atur margin dan orientasi sesuai kebutuhan sebelum menyimpan.');
}

function downloadLKPD() {
  if (!modulData) {
    alert('‚ö†Ô∏è Mohon generate modul terlebih dahulu!');
    return;
  }

  const lkpd = buatLKPD(modulData.jenjang, modulData.mapel, modulData.kelas, modulData.topik);
  
  const content = `${lkpd.header}


================================================================================
A. INFORMASI UMUM
================================================================================
${lkpd.info}


================================================================================
B. PETUNJUK PENGGUNAAN
================================================================================
${lkpd.petunjuk}


================================================================================
C. TUJUAN PEMBELAJARAN
================================================================================
${lkpd.tujuan}


================================================================================
D. KEGIATAN 1: EKSPLORASI
================================================================================
${lkpd.kegiatan1}


================================================================================
E. KEGIATAN 2: ELABORASI
================================================================================
${lkpd.kegiatan2}


================================================================================
F. KEGIATAN 3: KREASI
================================================================================
${lkpd.kegiatan3}


================================================================================
G. REFLEKSI & EVALUASI
================================================================================
${lkpd.refleksi}


================================================================================
H. RUBRIK PENILAIAN
================================================================================
${lkpd.rubrik}


================================================================================
Generated by AI - BahasaIndonesiaMA.blogspot.com
================================================================================`;

  const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
  const link = document.createElement('a');
  link.href = URL.createObjectURL(blob);
  link.download = `LKPD_${modulData.mapel.replace(/\s+/g,'_')}_${modulData.kelas}.txt`;
  link.click();
  
  alert('‚úÖ LKPD berhasil didownload!\n\nüìã Isi LKPD:\n‚úì Kegiatan Eksplorasi\n‚úì Kegiatan Elaborasi\n‚úì Kegiatan Kreasi\n‚úì Refleksi & Evaluasi\n‚úì Rubrik Penilaian\n\nBuka dengan Word dan edit sesuai kebutuhan!');
}

function buatLKPD(jenjang, mapel, kelas, topik) {
  return {
    header: `LEMBAR KERJA PESERTA DIDIK (LKPD)
${mapel} - Kelas ${kelas}
Topik: ${topik}

"Belajar Aktif, Kreatif, dan Menyenangkan"`,

    info: `Mata Pelajaran  : ${mapel}
Kelas/Semester   : ${kelas}
Topik/Materi     : ${topik}
Alokasi Waktu    : 2 x 45 menit
Nama Siswa       : _______________________________
Kelas            : _______________________________
Kelompok         : _______________________________`,

    petunjuk: `Petunjuk Umum:
1. Bacalah setiap instruksi dengan teliti sebelum mengerjakan
2. Kerjakan LKPD ini secara berkelompok (4-5 orang)
3. Diskusikan setiap pertanyaan dengan anggota kelompok
4. Tuliskan jawaban dengan lengkap dan jelas
5. Presentasikan hasil kerja kelompok di depan kelas
6. Hormati pendapat teman dan berikan tanggapan yang konstruktif

Catatan:
- Gunakan sumber belajar yang tersedia (buku, internet, video)
- Tanyakan kepada guru jika ada yang kurang jelas
- Waktu pengerjaan: 60 menit`,

    tujuan: `Melalui LKPD ini, peserta didik diharapkan mampu:

1. Menganalisis konsep dan prinsip ${topik} dengan tepat melalui kegiatan eksplorasi
2. Mengevaluasi penerapan ${topik} dalam situasi nyata melalui diskusi kelompok
3. Menciptakan solusi atau produk kreatif berdasarkan pemahaman ${topik}
4. Mengembangkan keterampilan berpikir kritis, kolaborasi, dan komunikasi
5. Menghubungkan pembelajaran dengan konteks kehidupan sehari-hari`,

    kegiatan1: `EKSPLORASI: "Mari Mengenal ${topik}"

Tujuan: Mengamati dan mengidentifikasi konsep dasar ${topik}

Langkah Kerja:
1. Amati gambar/video/demonstrasi yang ditampilkan guru tentang ${topik}
2. Catat hal-hal menarik atau penting yang kalian temukan
3. Diskusikan dengan kelompok: Apa yang kalian ketahui tentang ${topik}?

Pertanyaan Eksplorasi:

1. Apa yang kalian pahami tentang ${topik}?
   Jawab: ________________________________________________________________
   _______________________________________________________________________
   _______________________________________________________________________

2. Dimana kalian pernah melihat atau mengalami hal yang berkaitan dengan ${topik}?
   Jawab: ________________________________________________________________
   _______________________________________________________________________
   _______________________________________________________________________

3. Mengapa menurut kalian ${topik} penting untuk dipelajari?
   Jawab: ________________________________________________________________
   _______________________________________________________________________
   _______________________________________________________________________

4. Apa pertanyaan yang muncul di pikiran kalian tentang ${topik}?
   Jawab: ________________________________________________________________
   _______________________________________________________________________
   _______________________________________________________________________`,

    kegiatan2: `ELABORASI: "Mari Mendalami ${topik}"

Tujuan: Menganalisis dan memahami ${topik} secara mendalam

Langkah Kerja:
1. Baca materi tentang ${topik} dari berbagai sumber (buku, artikel, video)
2. Diskusikan dengan kelompok untuk menjawab pertanyaan berikut
3. Buat catatan penting dan rangkuman hasil diskusi
4. Siapkan presentasi untuk dibagikan ke kelas

Pertanyaan Analisis:

1. Jelaskan konsep ${topik} dengan kata-kata kalian sendiri!
   Jawab: ________________________________________________________________
   _______________________________________________________________________
   _______________________________________________________________________

2. Apa saja komponen atau bagian penting dari ${topik}?
   Jawab: ________________________________________________________________
   _______________________________________________________________________
   _______________________________________________________________________

3. Bagaimana ${topik} bekerja atau diterapkan? Berikan contoh konkret!
   Jawab: ________________________________________________________________
   _______________________________________________________________________
   _______________________________________________________________________

4. Apa kelebihan dan kekurangan/tantangan dalam ${topik}?
   Kelebihan: ____________________________________________________________
   _______________________________________________________________________
   
   Kekurangan: ___________________________________________________________
   _______________________________________________________________________

5. Bagaimana ${topik} berhubungan dengan konsep lain yang sudah kalian pelajari?
   Jawab: ________________________________________________________________
   _______________________________________________________________________
   _______________________________________________________________________`,

    kegiatan3: `KREASI: "Mari Berkarya dengan ${topik}"

Tujuan: Menciptakan produk atau solusi berdasarkan pemahaman ${topik}

Langkah Kerja:
1. Pilih satu bentuk karya yang akan dibuat oleh kelompok:
   ‚ñ° Poster/Infografis
   ‚ñ° Presentasi Multimedia
   ‚ñ° Video Penjelasan
   ‚ñ° Model/Prototype
   ‚ñ° Laporan Proyek
   ‚ñ° Karya lain: _________________

2. Rencanakan karya kalian:

PERENCANAAN PROYEK
Judul Karya    : ______________________________________________
Bentuk Karya   : ______________________________________________
Tujuan         : ______________________________________________
Target Audiens : ______________________________________________
Bahan/Alat     : ______________________________________________
Pembagian Tugas:
  - Anggota 1  : ______________________________________________
  - Anggota 2  : ______________________________________________
  - Anggota 3  : ______________________________________________
  - Anggota 4  : ______________________________________________
  - Anggota 5  : ______________________________________________

3. Kerjakan proyek sesuai rencana
4. Presentasikan hasil karya di depan kelas

Pertanyaan Refleksi Proyek:

1. Apa konsep ${topik} yang kalian terapkan dalam karya ini?
   Jawab: ________________________________________________________________
   _______________________________________________________________________

2. Apa tantangan yang kalian hadapi saat membuat karya?
   Jawab: ________________________________________________________________
   _______________________________________________________________________

3. Apa yang kalian pelajari dari proses pembuatan karya ini?
   Jawab: ________________________________________________________________
   _______________________________________________________________________

4. Bagaimana karya ini bisa bermanfaat untuk orang lain?
   Jawab: ________________________________________________________________
   _______________________________________________________________________`,

    refleksi: `REFLEKSI PEMBELAJARAN

Setelah menyelesaikan semua kegiatan, jawablah pertanyaan refleksi berikut dengan jujur:

1. Apa 3 hal baru yang kalian pelajari hari ini tentang ${topik}?
   a. ___________________________________________________________________
   b. ___________________________________________________________________
   c. ___________________________________________________________________

2. Bagian mana dari pembelajaran hari ini yang paling menarik? Mengapa?
   Jawab: ________________________________________________________________
   _______________________________________________________________________
   _______________________________________________________________________

3. Apa yang masih kalian bingungkan atau ingin kalian pelajari lebih lanjut?
   Jawab: ________________________________________________________________
   _______________________________________________________________________
   _______________________________________________________________________

4. Bagaimana kalian akan menerapkan pengetahuan tentang ${topik} dalam kehidupan sehari-hari?
   Jawab: ________________________________________________________________
   _______________________________________________________________________
   _______________________________________________________________________

5. Nilai kemampuan kelompok kalian hari ini (1-10): _____
   Alasan: _______________________________________________________________
   _______________________________________________________________________

EVALUASI DIRI

Beri tanda centang (‚úì) sesuai dengan kondisi kalian:

‚ñ° Saya aktif berpartisipasi dalam diskusi kelompok
‚ñ° Saya menghargai pendapat teman yang berbeda
‚ñ° Saya menyelesaikan tugas tepat waktu
‚ñ° Saya membantu teman yang kesulitan
‚ñ° Saya mencatat hal-hal penting dengan baik
‚ñ° Saya bertanya jika ada yang tidak dimengerti
‚ñ° Saya memberikan ide kreatif untuk proyek kelompok
‚ñ° Saya bisa menjelaskan ${topik} dengan baik`,

    rubrik: `RUBRIK PENILAIAN LKPD

Nama Kelompok: _________________________  Kelas: __________

NO | ASPEK PENILAIAN        | SKOR 1-4 | CATATAN
----|------------------------|----------|----------------------------------
 1  | Kelengkapan Jawaban    |          |
    | Semua pertanyaan       |          |
    | dijawab dengan lengkap |          |
----|------------------------|----------|----------------------------------
 2  | Kedalaman Analisis     |          |
    | Jawaban menunjukkan    |          |
    | pemahaman mendalam     |          |
----|------------------------|----------|----------------------------------
 3  | Kreativitas Produk     |          |
    | Karya unik, inovatif,  |          |
    | dan menarik            |          |
----|------------------------|----------|----------------------------------
 4  | Kerjasama Kelompok     |          |
    | Semua anggota aktif    |          |
    | berkontribusi          |          |
----|------------------------|----------|----------------------------------
 5  | Presentasi             |          |
    | Jelas, percaya diri,   |          |
    | komunikatif            |          |
----|------------------------|----------|----------------------------------
    | TOTAL SKOR             |          | / 20

Keterangan Skor:
4 = Sangat Baik (Melampaui harapan)
3 = Baik (Sesuai harapan)
2 = Cukup (Perlu perbaikan)
1 = Kurang (Perlu bimbingan intensif)

NILAI AKHIR = (Total Skor / 20) x 100 = __________

Kategori Nilai:
‚ñ° 90-100 : Sangat Baik (A)
‚ñ° 80-89  : Baik (B)
‚ñ° 70-79  : Cukup (C)
‚ñ° <70    : Perlu Perbaikan (D)

Catatan Guru:
_________________________________________________________________________
_________________________________________________________________________


Tanda Tangan:

Guru Mata Pelajaran                    Siswa




_______________________                _______________________`
  };
}

function downloadSoalHOTS() {
  if (!modulData) {
    alert('‚ö†Ô∏è Mohon generate modul terlebih dahulu!');
    return;
  }

  const soal = buatSoalHOTS(modulData.jenjang, modulData.mapel, modulData.kelas, modulData.topik);
  
  const content = `${soal.header}


================================================================================
A. INFORMASI UMUM
================================================================================
${soal.info}


================================================================================
B. PETUNJUK PENGERJAAN
================================================================================
${soal.petunjuk}


================================================================================
C. LEVEL 1: MENGANALISIS (C4)
================================================================================
${soal.levelAnalisis}


================================================================================
D. LEVEL 2: MENGEVALUASI (C5)
================================================================================
${soal.levelEvaluasi}


================================================================================
E. LEVEL 3: MENCIPTA (C6)
================================================================================
${soal.levelMencipta}


================================================================================
F. SOAL PILIHAN GANDA KOMPLEKS (PGK)
================================================================================
${soal.pgk}


================================================================================
G. SOAL URAIAN TERBUKA
================================================================================
${soal.uraian}


================================================================================
H. KUNCI JAWABAN DAN PEMBAHASAN
================================================================================
${soal.kunci}


================================================================================
I. PEDOMAN PENSKORAN
================================================================================
${soal.pedoman}


================================================================================
Generated by AI - BahasaIndonesiaMA.blogspot.com
Berdasarkan Permendikdasmen No. 12 Tahun 2025
================================================================================`;

  const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
  const link = document.createElement('a');
  link.href = URL.createObjectURL(blob);
  link.download = `Soal_HOTS_${modulData.mapel.replace(/\s+/g,'_')}_${modulData.kelas}.txt`;
  link.click();
  
  alert('‚úÖ Soal HOTS berhasil didownload!\n\nüß† Paket Lengkap:\n‚úì C4 Menganalisis (5 soal)\n‚úì C5 Mengevaluasi (5 soal)\n‚úì C6 Mencipta (3 soal)\n‚úì PGK (5 soal)\n‚úì Uraian (3 soal)\n‚úì Kunci Jawaban\n‚úì Pedoman Penskoran\n\nTotal 21 soal HOTS!\n\nBuka dengan Word dan edit sesuai kebutuhan.');
}

function buatSoalHOTS(jenjang, mapel, kelas, topik) {
  return {
    header: `BANK SOAL HOTS (Higher Order Thinking Skills)
${mapel} - Kelas ${kelas}
Topik: ${topik}

"Mengukur Kemampuan Berpikir Tingkat Tinggi"
Berdasarkan Taksonomi Bloom Revisi`,

    info: `Mata Pelajaran  : ${mapel}
Kelas/Semester   : ${kelas}
Topik/Materi     : ${topik}
Jenis Soal       : HOTS (C4, C5, C6)
Jumlah Soal      : 21 soal
Alokasi Waktu    : 90 menit
Bentuk Soal      : Pilihan Ganda Kompleks & Uraian

Level Kognitif:
- C4 (Menganalisis): 5 soal
- C5 (Mengevaluasi): 5 soal  
- C6 (Mencipta): 3 soal
- PGK: 5 soal
- Uraian Terbuka: 3 soal`,

    petunjuk: `PETUNJUK UMUM:
1. Tuliskan nama, kelas, dan nomor absen pada lembar jawaban
2. Bacalah setiap soal dengan cermat sebelum menjawab
3. Untuk soal pilihan ganda, pilih jawaban yang paling tepat
4. Untuk soal uraian, jawablah dengan lengkap dan sistematis
5. Periksa kembali jawaban sebelum dikumpulkan
6. Waktu pengerjaan: 90 menit

PETUNJUK KHUSUS:
A. Soal Pilihan Ganda Kompleks (PGK):
   - Beri tanda (‚úì) untuk pernyataan BENAR
   - Beri tanda (‚úó) untuk pernyataan SALAH

B. Soal Uraian:
   - Jawab dengan kalimat sendiri
   - Sertakan alasan/argumentasi
   - Berikan contoh konkret`,

    levelAnalisis: `SOAL LEVEL C4: MENGANALISIS

Soal 1 (C4)
Perhatikan data tentang ${topik}:
[Data/kasus terkait ${topik}]

Analisislah:
a. Pola yang dapat diidentifikasi
b. Faktor yang mempengaruhi
c. Hubungan sebab-akibat

Soal 2 (C4)
Bandingkan dua pendekatan berbeda dalam ${topik}!
Jelaskan persamaan dan perbedaannya.

Soal 3 (C4)
Kategorikan contoh penerapan ${topik} berikut berdasarkan karakteristiknya:
[Contoh A, B, C]

Soal 4 (C4)
Susunlah informasi acak tentang ${topik} menjadi skema yang sistematis!

Soal 5 (C4)
Identifikasi asumsi yang mendasari pernyataan tentang ${topik} berikut:
[Pernyataan]`,

    levelEvaluasi: `SOAL LEVEL C5: MENGEVALUASI

Soal 6 (C5)
Evaluasi dua metode berbeda dalam ${topik}:
- Metode A: [deskripsi]
- Metode B: [deskripsi]

Metode mana yang lebih efektif? Berikan justifikasi!

Soal 7 (C5)
Kritisi argumen berikut tentang ${topik}:
"[Argumen]"

Identifikasi kelemahan logika dan berikan kontra-argumen!

Soal 8 (C5)
Nilai kelayakan penerapan ${topik} berdasarkan kriteria:
- Relevansi
- Kelayakan
- Dampak
- Keberlanjutan

Soal 9 (C5)
Tentukan solusi terbaik dari 3 opsi berikut untuk masalah ${topik}:
[Opsi 1, 2, 3]

Soal 10 (C5)
Justifikasi pendapat ahli mana yang paling kredibel tentang ${topik}!`,

    levelMencipta: `SOAL LEVEL C6: MENCIPTA

Soal 11 (C6)
Rumuskan hipotesis dan rancang penelitian untuk menyelesaikan masalah terkait ${topik}!

Soal 12 (C6)
Buatlah proposal program inovatif untuk meningkatkan pemahaman ${topik} di sekolah!

Soal 13 (C6)
Ciptakan model/prototype/produk yang menerapkan konsep ${topik} untuk menyelesaikan masalah nyata!
Jelaskan:
- Deskripsi produk
- Keunggulan
- Prinsip yang diterapkan
- Tahapan pembuatan`,

    pgk: `SOAL PILIHAN GANDA KOMPLEKS (PGK)

Soal 14
Pernyataan tentang ${topik}:
(  ) A. ${topik} selalu memberikan hasil positif
(  ) B. Efektivitas ${topik} bergantung pada konteks
(  ) C. Pemahaman ${topik} memerlukan analisis mendalam
(  ) D. ${topik} tidak berkaitan dengan aspek sosial

Soal 15
Faktor yang mempengaruhi ${topik}:
(  ) A. Faktor internal lebih dominan dari eksternal
(  ) B. Teknologi dapat mengubah paradigma
(  ) C. Aspek psikologis tidak relevan
(  ) D. Kolaborasi antar-disiplin memperkaya pemahaman

Soal 16
Penerapan ${topik}:
(  ) A. Pendekatan top-down selalu lebih efektif
(  ) B. Partisipasi stakeholder penting
(  ) C. Monitoring tidak perlu jika perencanaan matang
(  ) D. Adaptasi lokal adalah kunci keberhasilan

Soal 17
Dampak ${topik}:
(  ) A. Dampak positif selalu lebih besar
(  ) B. Dampak jangka panjang perlu dipertimbangkan
(  ) C. Dampak lingkungan dapat diabaikan
(  ) D. Analisis cost-benefit membantu penilaian

Soal 18
Penelitian ${topik}:
(  ) A. Kualitatif lebih baik dari kuantitatif
(  ) B. Triangulasi meningkatkan validitas
(  ) C. Replikasi tidak penting
(  ) D. Etika harus dipertimbangkan`,

    uraian: `SOAL URAIAN TERBUKA

Soal 19 (40 poin)
ANALISIS KASUS:
[Kasus kompleks tentang ${topik}]

Pertanyaan:
a. Identifikasi masalah utama (5 poin)
b. Analisis dari berbagai perspektif (10 poin)
c. Evaluasi solusi yang mungkin (10 poin)
d. Rekomendasi terbaik (10 poin)
e. Rencana implementasi (5 poin)

Soal 20 (40 poin)
DESAIN PROYEK:
Rancang proyek inovatif tentang ${topik}!

Buat proposal mencakup:
a. Executive Summary
b. Analisis Situasi
c. Tujuan (SMART)
d. Strategi dan Metodologi
e. Rencana Kerja
f. Budget
g. Risk Management
h. Monitoring & Evaluasi
i. Sustainability Plan

Soal 21 (20 poin)
SINTESIS & REFLEKSI:

a. Sintesis konsep ${topik} (4 poin)
b. Aplikasi dalam kehidupan (4 poin)
c. Analisis kritis konsep (4 poin)
d. Visi masa depan (4 poin)
e. Refleksi personal (4 poin)`,

    kunci: `KUNCI JAWABAN DAN PEMBAHASAN

A. KUNCI PGK

Soal 14: (‚úó) A, (‚úì) B, (‚úì) C, (‚úó) D
Soal 15: (‚úó) A, (‚úì) B, (‚úó) C, (‚úì) D
Soal 16: (‚úó) A, (‚úì) B, (‚úó) C, (‚úì) D
Soal 17: (‚úó) A, (‚úì) B, (‚úó) C, (‚úì) D
Soal 18: (‚úó) A, (‚úì) B, (‚úó) C, (‚úì) D

B. RUBRIK SOAL URAIAN

Soal 1-5 (C4): Masing-masing 10 poin
- Identifikasi elemen (3 poin)
- Analisis hubungan (4 poin)
- Kesimpulan logis (3 poin)

Soal 6-10 (C5): Masing-masing 15 poin
- Kriteria penilaian (4 poin)
- Analisis berdasarkan kriteria (5 poin)
- Justifikasi (4 poin)
- Rekomendasi (2 poin)

Soal 11-13 (C6): Masing-masing 20 poin
- Orisinalitas (5 poin)
- Kelayakan (5 poin)
- Kelengkapan (5 poin)
- Potensi dampak (5 poin)

C. PEMBAHASAN
[Guru dapat menambahkan pembahasan detail untuk setiap soal]`,

    pedoman: `PEDOMAN PENSKORAN

A. DISTRIBUSI SKOR

Jenis Soal              Jumlah    Bobot       Total
---------------------------------------------------------
C4 Menganalisis           5      10 poin     50 poin
C5 Mengevaluasi           5      15 poin     75 poin
C6 Mencipta               3      20 poin     60 poin
PGK                       5       5 poin     25 poin
Uraian Terbuka            3    Bervariasi   100 poin
---------------------------------------------------------
TOTAL                    21                  310 poin

B. KONVERSI NILAI

Nilai Akhir = (Total Skor / 310) x 100

Kategori:
90-100 = A (Sangat Baik)
80-89  = B (Baik)
70-79  = C (Cukup)
60-69  = D (Kurang)
<60    = E (Sangat Kurang)

C. KRITERIA PENILAIAN

C4 (Analisis):
9-10  : Lengkap, mendalam, logis
7-8   : Baik, cukup mendalam
5-6   : Dasar, kurang mendalam
3-4   : Terbatas
0-2   : Tidak memadai

C5 (Evaluasi):
13-15 : Komprehensif dengan justifikasi kuat
10-12 : Baik dengan justifikasi memadai
7-9   : Dasar dengan kriteria sederhana
4-6   : Terbatas
0-3   : Tidak memadai

C6 (Mencipta):
17-20 : Sangat inovatif dan layak
13-16 : Inovatif dan layak
9-12  : Kreatif sederhana
5-8   : Kurang inovatif
0-4   : Tidak kreatif

D. TINDAK LANJUT

Nilai A: Pengayaan, kompetisi
Nilai B: Latihan tambahan
Nilai C: Bimbingan individual
Nilai D-E: Remedial teaching`
  };
}

function showFullPreview() {
  const fullContent = `${modulData.identitas}

================================================================================
A. CAPAIAN PEMBELAJARAN (CP)
================================================================================
${modulData.cp}


================================================================================
B. TUJUAN PEMBELAJARAN
================================================================================
${modulData.tujuan}


================================================================================
C. PEMAHAMAN BERMAKNA
================================================================================
${modulData.pemahaman}


================================================================================
D. PERTANYAAN PEMANTIK
================================================================================
${modulData.pemantik}


================================================================================
E. KEGIATAN PEMBELAJARAN
================================================================================

1. KEGIATAN PENDAHULUAN
${modulData.pendahuluan}

2. KEGIATAN INTI
${modulData.inti}

3. KEGIATAN PENUTUP
${modulData.penutup}


================================================================================
F. ASESMEN
================================================================================
${modulData.asesmen}


================================================================================
G. PEMBELAJARAN BERDIFERENSIASI
================================================================================
${modulData.diferensiasi}


================================================================================
H. PROFIL PELAJAR PANCASILA
================================================================================
${modulData.p5}


================================================================================
I. MEDIA PEMBELAJARAN DAN SUMBER BELAJAR
================================================================================
${modulData.media}


================================================================================
LAMPIRAN
================================================================================

LAMPIRAN 1: BAHAN BACAAN
${modulData.bahanBacaan}


LAMPIRAN 2: GLOSARIUM
${modulData.glosarium}


LAMPIRAN 3: DAFTAR PUSTAKA
${modulData.daftarPustaka}


${modulData.tandaTangan}


================================================================================
Generated by AI - BahasaIndonesiaMA.blogspot.com
Berdasarkan Permendikdasmen No. 12 Tahun 2025
================================================================================`;

  document.getElementById('fullPreview').textContent = fullContent;
  document.getElementById('previewModal').style.display = 'block';
  document.body.style.overflow = 'hidden';
}

function closePreview() {
  document.getElementById('previewModal').style.display = 'none';
  document.body.style.overflow = 'auto';
}

function reset() {
  document.getElementById('jenjang').value = '';
  document.getElementById('mapel').value = '';
  document.getElementById('kelas').value = '';
  document.getElementById('topik').value = '';
  document.getElementById('formArea').style.display = 'block';
  document.getElementById('resultArea').style.display = 'none';
  modulData = null;
}
</script>
</body>
</html>
