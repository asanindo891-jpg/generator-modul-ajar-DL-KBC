<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Generator Modul Ajar AI - Kurikulum Merdeka 2025</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  min-height: 100vh;
  padding: 20px;
}
.container {
  background: white;
  border-radius: 20px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.3);
  max-width: 700px;
  margin: 20px auto;
  padding: 40px;
}
h1 { color: #667eea; text-align: center; margin-bottom: 10px; font-size: 2em; }
.subtitle { text-align: center; color: #666; margin-bottom: 30px; font-size: 0.9em; }
.form-group { margin-bottom: 20px; }
label { display: block; margin-bottom: 8px; color: #333; font-weight: 600; }
input, select { 
  width: 100%; 
  padding: 12px; 
  border: 2px solid #e0e0e0; 
  border-radius: 10px; 
  font-size: 1em;
}
input:focus, select:focus { outline: none; border-color: #667eea; }
.btn {
  width: 100%;
  padding: 15px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border: none;
  border-radius: 10px;
  font-size: 1.1em;
  font-weight: bold;
  cursor: pointer;
  margin-top: 10px;
  transition: all 0.3s;
  text-decoration: none;
  display: block;
  text-align: center;
}
.btn:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4); }
.btn-download { background: linear-gradient(135deg, #10b981 0%, #059669 100%); }
.btn-lkpd { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); }
.btn-pdf { background: linear-gradient(135deg, #ef4444 0%, #dc2626); }
.btn-thanks { background: linear-gradient(135deg, #ec4899 0%, #db2777); }
.btn-reset { background: linear-gradient(135deg, #6b7280 0%, #4b5563); }
.btn-blog { background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed); }
.info-box { background: #fef3c7; border-left: 4px solid #f59e0b; padding: 15px; border-radius: 5px; margin-bottom: 20px; }
.result-box { display: none; background: #d1fae5; border: 2px solid #10b981; border-radius: 10px; padding: 20px; margin-top: 20px; }
.result-box h3 { color: #065f46; margin-bottom: 15px; }
.preview { 
  background: white; 
  border: 1px solid #ddd; 
  border-radius: 5px; 
  padding: 15px; 
  max-height: 300px; 
  overflow-y: auto; 
  margin: 15px 0;
  white-space: pre-wrap;
  font-family: 'Courier New', monospace;
  font-size: 0.85em;
  line-height: 1.5;
}
.loading { display: none; text-align: center; padding: 20px; }
.spinner {
  border: 4px solid #f3f3f3;
  border-top: 4px solid #667eea;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  animation: spin 1s linear infinite;
  margin: 0 auto;
}
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
.bonus-box { background: #fef3c7; border: 2px solid #f59e0b; border-radius: 10px; padding: 20px; margin-top: 20px; }
.bonus-box h3 { color: #92400e; margin-bottom: 10px; }
.tips-box { background: #e0e7ff; border: 2px solid #6366f1; border-radius: 10px; padding: 20px; margin-top: 15px; }
.tips-box h4 { color: #3730a3; margin-bottom: 10px; }
.tips-box ul { color: #4338ca; margin-left: 20px; line-height: 1.8; }
.modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1000; overflow: auto; }
.modal-content { background: white; max-width: 900px; margin: 20px auto; border-radius: 15px; }
.modal-header { 
  position: sticky; 
  top: 0; 
  background: white; 
  padding: 20px; 
  border-bottom: 2px solid #e0e0e0; 
  display: flex; 
  justify-content: space-between; 
  align-items: center; 
  border-radius: 15px 15px 0 0;
  z-index: 10;
}
.modal-body { padding: 30px; white-space: pre-wrap; font-family: 'Courier New', monospace; font-size: 0.9em; line-height: 1.6; max-height: 70vh; overflow-y: auto; }
</style>
</head>
<body>

<div class="container">
  <h1>ü§ñ Generator Modul Ajar AI</h1>
  <p class="subtitle">Kurikulum Merdeka - Permendikdasmen No. 12 Tahun 2025</p>
  
  <div class="info-box">
    <strong>‚ú® Fitur Lengkap:</strong> Modul Ajar Profesional + LKPD HOTS + 20 Soal HOTS (C4-C6) + Pembahasan Detail
  </div>

  <div id="formArea">
    <div class="form-group">
      <label>Jenjang Pendidikan *</label>
      <select id="jenjang">
        <option value="">-- Pilih Jenjang --</option>
        <option value="SD">SD</option>
        <option value="SMP">SMP</option>
        <option value="MTs">MTs</option>
        <option value="SMA">SMA</option>
        <option value="MA">MA</option>
        <option value="SMK">SMK</option>
      </select>
    </div>
    
    <div class="form-group">
      <label>Mata Pelajaran *</label>
      <input type="text" id="mapel" placeholder="Contoh: Matematika, IPA, Bahasa Indonesia">
    </div>
    
    <div class="form-group">
      <label>Kelas *</label>
      <input type="text" id="kelas" placeholder="Contoh: VII, X, 5">
    </div>
    
    <div class="form-group">
      <label>Topik/Materi *</label>
      <input type="text" id="topik" placeholder="Contoh: Persamaan Linear, Fotosintesis">
    </div>
    
    <div class="form-group">
      <label>Jenis Pembelajaran *</label>
      <select id="jenis">
        <option value="">-- Pilih Jenis --</option>
        <option value="Tatap Muka">Tatap Muka</option>
        <option value="Daring">Daring (Online)</option>
        <option value="Hybrid">Hybrid (Blended)</option>
      </select>
    </div>
    
    <div class="form-group">
      <label>Durasi Pembelajaran *</label>
      <select id="durasi">
        <option value="">-- Pilih Durasi --</option>
        <option value="1">1 Pertemuan (2 x 45 menit)</option>
        <option value="2">2 Pertemuan (4 x 45 menit)</option>
        <option value="3">3 Pertemuan (6 x 45 menit)</option>
      </select>
    </div>
    
    <div class="form-group">
      <label>Tema Pendidikan (Opsional)</label>
      <select id="tema">
        <option value="">-- Tidak Ada Tema --</option>
        <option value="STEM">STEM</option>
        <option value="Literasi">Literasi</option>
        <option value="Numerasi">Numerasi</option>
        <option value="Kewirausahaan">Kewirausahaan</option>
        <option value="Kearifan Lokal">Kearifan Lokal</option>
        <option value="Lingkungan">Lingkungan</option>
      </select>
    </div>
    
    <button class="btn" onclick="mulaiGenerate()">üöÄ Generate Modul Sekarang</button>
  </div>

  <div id="loadingArea" class="loading">
    <div class="spinner"></div>
    <p style="margin-top:15px;color:#667eea;font-weight:600">‚è≥ Sedang membuat modul profesional...</p>
  </div>

  <div id="resultArea" class="result-box">
    <h3>‚úÖ Modul Berhasil Dibuat!</h3>
    <p style="margin-bottom:15px;color:#065f46"><strong>Preview Singkat:</strong></p>
    <div class="preview" id="previewBox"></div>
    
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:15px">
      <button class="btn btn-download" onclick="lihatPreviewLengkap()">üëÅÔ∏è Preview Lengkap</button>
      <button class="btn btn-download" onclick="unduhModulTXT()">üì• Download TXT</button>
    </div>
    <button class="btn btn-pdf" onclick="unduhModulPDF()">üìÑ Download PDF (Print)</button>
    
    <div class="bonus-box">
      <h3>üéÅ BONUS GRATIS!</h3>
      <p style="color:#78350f;margin-bottom:15px">Pelengkap pembelajaran profesional berbasis HOTS:</p>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
        <button class="btn btn-lkpd" onclick="unduhLKPD()">üìã LKPD HOTS</button>
        <button class="btn btn-lkpd" style="background:linear-gradient(135deg,#8b5cf6,#7c3aed)" onclick="unduhSoalPG()">üìù 20 Soal HOTS</button>
      </div>
      <p style="margin-top:15px;font-size:0.85em;color:#92400e;line-height:1.6">
        üíù <strong>Jika bermanfaat, bantu kami dengan:</strong><br>
        ‚Ä¢ Share ke sesama guru di grup WhatsApp/Telegram<br>
        ‚Ä¢ Berikan rating bintang 5 ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê<br>
        ‚Ä¢ Tulis komentar positif di blog kami<br>
        ‚Ä¢ Follow media sosial kami untuk update terbaru
      </p>
      <button class="btn btn-thanks" onclick="kirimTerimaKasih()">üíù Ucapkan Terima Kasih</button>
    </div>
    
    <div class="tips-box">
      <h4>üí° Tips Penggunaan:</h4>
      <ul>
        <li>File TXT bisa dibuka di Word untuk edit</li>
        <li>LKPD berbasis HOTS (C4-C6) siap pakai</li>
        <li>Soal HOTS dengan pembahasan lengkap</li>
        <li>Edit sesuai kebutuhan sekolah Anda</li>
      </ul>
    </div>
    
    <button class="btn btn-reset" onclick="buatModulBaru()">üìù Buat Modul Baru</button>
    <a href="https://bahasaindonesiama.blogspot.com" target="_blank" class="btn btn-blog">üè† Kembali ke Blog</a>
  </div>
</div>

<div id="modalPreview" class="modal" onclick="if(event.target==this) tutupModal()">
  <div class="modal-content">
    <div class="modal-header">
      <h2 style="color:#667eea;margin:0">üìÑ Preview Lengkap Modul Ajar</h2>
      <button onclick="tutupModal()" style="background:#ef4444;color:white;border:none;padding:10px 20px;border-radius:8px;cursor:pointer;font-weight:bold">‚úï Tutup</button>
    </div>
    <div id="isiModal" class="modal-body"></div>
  </div>
</div>

<script>
var dataModul = null;

function mulaiGenerate() {
  var jenjang = document.getElementById('jenjang').value;
  var mapel = document.getElementById('mapel').value.trim();
  var kelas = document.getElementById('kelas').value.trim();
  var topik = document.getElementById('topik').value.trim();
  var jenis = document.getElementById('jenis').value;
  var durasi = document.getElementById('durasi').value;
  var tema = document.getElementById('tema').value;

  if (!jenjang || !mapel || !kelas || !topik || !jenis || !durasi) {
    alert('‚ö†Ô∏è Mohon isi semua field yang wajib (*)');
    return;
  }

  document.getElementById('formArea').style.display = 'none';
  document.getElementById('loadingArea').style.display = 'block';

  setTimeout(function() {
    dataModul = buatDataModul(jenjang, mapel, kelas, topik, jenis, durasi, tema);
    tampilkanHasil();
  }, 1500);
}

function buatDataModul(jenjang, mapel, kelas, topik, jenis, durasi, tema) {
  var waktu = durasi === "1" ? "2 x 45 menit" : durasi === "2" ? "4 x 45 menit" : "6 x 45 menit";
  var garis = '='.repeat(80);
  
  var identitas = garis + '\nMODUL AJAR KURIKULUM MERDEKA\nBerdasarkan Permendikdasmen No. 12 Tahun 2025\n' + garis + '\n\nJenjang         : ' + jenjang + '\nMata Pelajaran  : ' + mapel + '\nKelas/Semester  : ' + kelas + ' / 1\nTahun Pelajaran : 2025/2026\nJenis           : ' + jenis + '\nAlokasi Waktu   : ' + waktu;
  
  if (tema) identitas += '\nTema            : ' + tema;
  identitas += '\nTopik/Materi    : ' + topik + '\n\nPenyusun        : [Nama Guru]\nNIP             : [NIP]\nInstansi        : [Nama Sekolah]';

  var cp = 'Berdasarkan Permendikdasmen No. 12 Tahun 2025, peserta didik mampu memahami, menganalisis, dan menerapkan konsep ' + topik + ' dalam ' + mapel + ' yang relevan dengan ruang lingkup materi standar isi. Pembelajaran dirancang untuk mengembangkan kemampuan berpikir tingkat tinggi (HOTS), kreativitas, keterampilan pemecahan masalah, serta penerapan nilai-nilai Pancasila dan profil pelajar Pancasila dalam kehidupan sehari-hari melalui pembelajaran ' + jenis.toLowerCase() + '.';

  var tujuan = 'Setelah mengikuti pembelajaran ' + jenis.toLowerCase() + ' selama ' + durasi + ' pertemuan, peserta didik diharapkan mampu:\n\n1. MENGANALISIS konsep dasar ' + topik + ' sesuai standar isi dan kaitannya dengan kehidupan nyata\n\n2. MENGEVALUASI berbagai strategi dalam menyelesaikan masalah terkait ' + topik + ' dengan berpikir kritis\n\n3. MENCIPTAKAN solusi inovatif atau produk kreatif berdasarkan pemahaman ' + topik + '\n\n4. MENGINTEGRASIKAN nilai-nilai Pancasila dalam penerapan konsep ' + topik + '\n\n5. MENGEMBANGKAN kompetensi literasi, numerasi, dan keterampilan abad 21';
  
  if (tema) tujuan += '\n\n6. MENERAPKAN konsep ' + topik + ' dalam konteks ' + tema;

  var pemahaman = '1. ' + topik + ' merupakan konsep penting dalam ' + mapel + ' yang memiliki aplikasi praktis\n\n2. Memahami ' + topik + ' membantu mengembangkan kemampuan berpikir logis dan sistematis\n\n3. Penguasaan ' + topik + ' memberikan fondasi kuat untuk pembelajaran lanjutan\n\n4. Pembelajaran ' + jenis.toLowerCase() + ' memungkinkan fleksibilitas dan personalisasi';
  
  if (tema) pemahaman += '\n\n5. Integrasi dengan tema ' + tema + ' memperkaya pemahaman kontekstual';

  var pemantik = '1. Mengapa ' + topik + ' penting untuk dipelajari dalam konteks kehidupan modern?\n\n2. Bagaimana ' + topik + ' dapat diterapkan untuk menyelesaikan masalah nyata?\n\n3. Apa hubungan ' + topik + ' dengan materi yang telah kita pelajari sebelumnya?\n\n4. Bagaimana pembelajaran ' + jenis.toLowerCase() + ' membantu memahami ' + topik + ' lebih baik?';

  var kegiatan = 'PENDAHULUAN (15-20 menit)\n' + 
    '- Guru membuka dengan salam, berdoa, dan mengecek kehadiran\n' +
    '- Apersepsi: mengaitkan ' + topik + ' dengan pengalaman peserta didik\n' +
    '- Menyampaikan tujuan pembelajaran dan kompetensi\n' +
    '- Memberikan motivasi tentang manfaat ' + topik + '\n\n' +
    'INTI (60-90 menit)\n\n' +
    'FASE EKSPLORASI:\n' +
    '- Mengamati fenomena/video terkait ' + topik + '\n' +
    '- Mengidentifikasi masalah dan merumuskan pertanyaan\n\n' +
    'FASE ELABORASI:\n' +
    '- Diskusi kelompok (4-5 orang)\n' +
    '- Eksplorasi mendalam melalui berbagai sumber\n' +
    '- Analisis data dan menyusun kesimpulan\n\n' +
    'FASE KREASI:\n' +
    '- Presentasi hasil analisis kelompok\n' +
    '- Menciptakan produk demonstrasi pemahaman\n' +
    '- Menyusun kesimpulan akhir\n\n' +
    'PENUTUP (15-20 menit)\n' +
    '- Menyimpulkan materi pembelajaran\n' +
    '- Refleksi dan penguatan\n' +
    '- Penilaian sikap\n' +
    '- Penutup dengan doa';

  var asesmen = 'ASESMEN DIAGNOSTIK:\n' +
    '- Pre-test konsep prasyarat\n' +
    '- Observasi kesiapan belajar\n\n' +
    'ASESMEN FORMATIF:\n' +
    '- Observasi aktivitas diskusi\n' +
    '- Penilaian kerja kelompok\n' +
    '- Kuis singkat\n\n' +
    'ASESMEN SUMATIF:\n' +
    '1. Tes Tertulis (40%)\n' +
    '2. Penilaian Proyek (40%)\n' +
    '3. Presentasi (20%)';

  var diferensiasi = 'DIFERENSIASI KONTEN:\n' +
    '- Tingkat Dasar: Materi sederhana dengan contoh visual\n' +
    '- Tingkat Menengah: Materi kompleks dengan variasi\n' +
    '- Tingkat Lanjut: Materi mendalam dengan analisis kritis\n\n' +
    'DIFERENSIASI PROSES:\n' +
    '- Visual, Auditori, Kinestetik\n' +
    '- Individual, kelompok, klasikal\n' +
    '- Scaffolding dan peer tutoring\n\n' +
    'DIFERENSIASI PRODUK:\n' +
    '- Tertulis, Visual, Praktis, Digital';

  var p5 = 'PROFIL PELAJAR PANCASILA\n\n' +
    'Dimensi:\n' +
    '1. Beriman dan Berakhlak Mulia\n' +
    '2. Berkebinekaan Global\n' +
    '3. Bergotong Royong\n' +
    '4. Mandiri\n' +
    '5. Bernalar Kritis\n' +
    '6. Kreatif\n\n' +
    'Pembelajaran ' + topik + ' mengembangkan kemampuan bernalar kritis,\n' +
    'kreativitas, kemandirian, dan kerja sama.';

  var media = 'MEDIA DAN SUMBER BELAJAR:\n' +
    '1. Buku teks ' + mapel + ' Kelas ' + kelas + '\n' +
    '2. Modul dan LKPD\n' +
    '3. Video pembelajaran\n' +
    '4. Aplikasi edukatif\n' +
    '5. Sumber digital\n' +
    '6. Alat peraga\n' +
    '7. Internet';

  var lampiran = 'LAMPIRAN 1: BAHAN BACAAN\n\n' +
    'UNTUK GURU:\n' +
    '1. Permendikdasmen No. 12 Tahun 2025\n' +
    '2. Panduan Pembelajaran Kurikulum Merdeka\n' +
    '3. Buku Guru ' + mapel + ' Kelas ' + kelas + '\n\n' +
    'UNTUK PESERTA DIDIK:\n' +
    '1. Buku Siswa ' + mapel + ' Kelas ' + kelas + '\n' +
    '2. Artikel tentang ' + topik + '\n' +
    '3. Video edukatif\n\n' +
    'LAMPIRAN 2: GLOSARIUM\n\n' +
    '1. Asesmen: Proses pengumpulan informasi hasil belajar\n' +
    '2. HOTS: Higher Order Thinking Skills\n' +
    '3. Diferensiasi: Penyesuaian pembelajaran\n\n' +
    'LAMPIRAN 3: DAFTAR PUSTAKA\n\n' +
    '1. Kemendikdasmen. (2025). Permendikdasmen No. 12/2025. Jakarta.\n' +
    '2. Tim Penyusun. (2024). Buku ' + mapel + ' Kelas ' + kelas + '. Jakarta.\n\n\n' +
    'Mengetahui,\n' +
    'Kepala Sekolah                    Guru Mata Pelajaran\n\n\n\n' +
    '_____________________             _____________________\n' +
    'NIP.                              NIP.';

  return {
    jenjang: jenjang,
    mapel: mapel,
    kelas: kelas,
    topik: topik,
    jenis: jenis,
    durasi: durasi,
    tema: tema,
    identitas: identitas,
    cp: cp,
    tujuan: tujuan,
    pemahaman: pemahaman,
    pemantik: pemantik,
    kegiatan: kegiatan,
    asesmen: asesmen,
    diferensiasi: diferensiasi,
    p5: p5,
    media: media,
    lampiran: lampiran
  };
}

function tampilkanHasil() {
  document.getElementById('previewBox').textContent = dataModul.identitas + '\n\nA. CAPAIAN PEMBELAJARAN\n' + dataModul.cp.substring(0,200) + '...\n\n(...total 9 komponen lengkap + 3 Lampiran)';
  document.getElementById('loadingArea').style.display = 'none';
  document.getElementById('resultArea').style.display = 'block';
  document.getElementById('resultArea').scrollIntoView({ behavior: 'smooth' });
}

function lihatPreviewLengkap() {
  var garis = '='.repeat(80);
  document.getElementById('isiModal').textContent = dataModul.identitas + '\n\n' + garis + '\nA. CAPAIAN PEMBELAJARAN\n' + garis + '\n' + dataModul.cp + '\n\n' + garis + '\nB. TUJUAN PEMBELAJARAN\n' + garis + '\n' + dataModul.tujuan + '\n\n' + garis + '\nC. PEMAHAMAN BERMAKNA\n' + garis + '\n' + dataModul.pemahaman + '\n\n' + garis + '\nD. PERTANYAAN PEMANTIK\n' + garis + '\n' + dataModul.pemantik + '\n\n' + garis + '\nE. KEGIATAN PEMBELAJARAN\n' + garis + '\n' + dataModul.kegiatan + '\n\n' + garis + '\nF. ASESMEN\n' + garis + '\n' + dataModul.asesmen + '\n\n' + garis + '\nG. PEMBELAJARAN BERDIFERENSIASI\n' + garis + '\n' + dataModul.diferensiasi + '\n\n' + garis + '\nH. PROFIL PELAJAR PANCASILA\n' + garis + '\n' + dataModul.p5 + '\n\n' + garis + '\nI. MEDIA PEMBELAJARAN\n' + garis + '\n' + dataModul.media + '\n\n' + garis + '\nLAMPIRAN\n' + garis + '\n' + dataModul.lampiran + '\n\n' + garis + '\nGenerated by AI - BahasaIndonesiaMA.blogspot.com\n' + garis;
  
  document.getElementById('modalPreview').style.display = 'block';
  document.body.style.overflow = 'hidden';
}

function tutupModal() {
  document.getElementById('modalPreview').style.display = 'none';
  document.body.style.overflow = 'auto';
}

function unduhModulTXT() {
  var garis = '='.repeat(80);
  var konten = dataModul.identitas + '\n\n' + garis + '\nA. CAPAIAN PEMBELAJARAN\n' + garis + '\n' + dataModul.cp + '\n\n' + garis + '\nB. TUJUAN PEMBELAJARAN\n' + garis + '\n' + dataModul.tujuan + '\n\n' + garis + '\nC. PEMAHAMAN BERMAKNA\n' + garis + '\n' + dataModul.pemahaman + '\n\n' + garis + '\nD. PERTANYAAN PEMANTIK\n' + garis + '\n' + dataModul.pemantik + '\n\n' + garis + '\nE. KEGIATAN PEMBELAJARAN\n' + garis + '\n' + dataModul.kegiatan + '\n\n' + garis + '\nF. ASESMEN\n' + garis + '\n' + dataModul.asesmen + '\n\n' + garis + '\nG. PEMBELAJARAN BERDIFERENSIASI\n' + garis + '\n' + dataModul.diferensiasi + '\n\n' + garis + '\nH. PROFIL PELAJAR PANCASILA\n' + garis + '\n' + dataModul.p5 + '\n\n' + garis + '\nI. MEDIA PEMBELAJARAN\n' + garis + '\n' + dataModul.media + '\n\n' + garis + '\nLAMPIRAN\n' + garis + '\n' + dataModul.lampiran + '\n\n' + garis + '\nGenerated by AI - BahasaIndonesiaMA.blogspot.com\n' + garis;

  var blob = new Blob([konten], { type: 'text/plain;charset=utf-8' });
  var link = document.createElement('a');
  link.href = URL.createObjectURL(blob);
  link.download = 'Modul_Ajar_' + dataModul.mapel.replace(/\s/g,'_') + '_Kelas_' + dataModul.kelas + '.txt';
  link.click();
  alert('‚úÖ Modul Ajar berhasil didownload!\n\nüìù Isi Lengkap:\n‚úì 9 Komponen Modul Ajar\n‚úì 3 Lampiran Lengkap\n\nBuka dengan Word untuk edit!');
}

function unduhLKPD() {
  var garis = '='.repeat(80);
  var isi = 'LEMBAR KERJA PESERTA DIDIK (LKPD) BERBASIS HOTS\n' +
    dataModul.mapel + ' - Kelas ' + dataModul.kelas + '\n' +
    'Topik: ' + dataModul.topik + '\n\n' +
    garis + '\n' +
    'INFORMASI UMUM\n' +
    garis + '\n' +
    'Mata Pelajaran  : ' + dataModul.mapel + '\n' +
    'Kelas/Semester  : ' + dataModul.kelas + ' / 1\n' +
    'Topik           : ' + dataModul.topik + '\n' +
    'Alokasi Waktu   : 2 x 45 menit\n\n' +
    'Nama Siswa      : ___________________________\n' +
    'Kelas           : ___________________________\n' +
    'Kelompok        : ___________________________\n\n' +
    garis + '\n' +
    'TAHAP 1: ANALISIS (C4)\n' +
    garis + '\n\n' +
    '1. Analisis Konsep\n' +
    '   Identifikasi 3 aspek penting dari ' + dataModul.topik + '\n\n' +
    '   Aspek 1: _____________________________________________\n' +
    '   Penjelasan: __________________________________________\n\n' +
    '   Aspek 2: _____________________________________________\n' +
    '   Penjelasan: __________________________________________\n\n' +
    '   Aspek 3: _____________________________________________\n' +
    '   Penjelasan: __________________________________________\n\n' +
    '2. Perbandingan\n' +
    '   Bandingkan penerapan ' + dataModul.topik + ' dalam 2 konteks berbeda\n\n' +
    '   Konteks 1: ___________________________________________\n' +
    '   Konteks 2: ___________________________________________\n' +
    '   Persamaan: ___________________________________________\n' +
    '   Perbedaan: ___________________________________________\n\n' +
    garis + '\n' +
    'TAHAP 2: EVALUASI (C5)\n' +
    garis + '\n\n' +
    '1. Evaluasi Argumen\n' +
    '   Setujukah Anda bahwa ' + dataModul.topik + ' sangat penting?\n\n' +
    '   Sikap: [ ] Setuju  [ ] Tidak Setuju\n\n' +
    '   Argumen 1: ___________________________________________\n' +
    '   Bukti: _______________________________________________\n\n' +
    '   Argumen 2: ___________________________________________\n' +
    '   Bukti: _______________________________________________\n\n' +
    '2. Evaluasi Metode\n' +
    '   Metode mana yang paling efektif untuk ' + dataModul.topik + '?\n\n' +
    '   Metode: ______________________________________________\n' +
    '   Kelebihan: ___________________________________________\n' +
    '   Keterbatasan: ________________________________________\n' +
    '   Rekomendasi: _________________________________________\n\n' +
    garis + '\n' +
    'TAHAP 3: KREASI (C6)\n' +
    garis + '\n\n' +
    '1. Rancang Solusi Inovatif\n' +
    '   Masalah yang diidentifikasi: __________________________\n' +
    '   Solusi yang dirancang: ________________________________\n' +
    '   Keunggulan solusi: ____________________________________\n\n' +
    '2. Desain Produk Kreatif\n' +
    '   Bentuk produk: [ ] Infografis  [ ] Video  [ ] Poster\n' +
    '                  [ ] Model      [ ] Lainnya: __________\n\n' +
    '   Judul: _______________________________________________\n' +
    '   Tujuan: ______________________________________________\n' +
    '   Konsep: ______________________________________________\n\n' +
    '   Pembagian Tugas:\n' +
    '   Anggota 1: ___________________________________________\n' +
    '   Anggota 2: ___________________________________________\n' +
    '   Anggota 3: ___________________________________________\n' +
    '   Anggota 4: ___________________________________________\n\n' +
    garis + '\n' +
    'REFLEKSI METAKOGNITIF\n' +
    garis + '\n\n' +
    '1. Konsep apa yang paling sulit? Bagaimana mengatasinya?\n' +
    '   ________________________________________________________\n\n' +
    '2. Apa perubahan pemahaman Anda setelah belajar?\n' +
    '   ________________________________________________________\n\n' +
    '3. Bagaimana menerapkan ' + dataModul.topik + ' dalam kehidupan?\n' +
    '   ________________________________________________________\n\n' +
    garis + '\n' +
    'RUBRIK PENILAIAN\n' +
    garis + '\n\n' +
    'Aspek                    | Skor 1-4 | Keterangan\n' +
    '-------------------------|----------|------------------\n' +
    'Kemampuan Analisis (C4)  |          |\n' +
    'Kemampuan Evaluasi (C5)  |          |\n' +
    'Kemampuan Kreasi (C6)    |          |\n' +
    'Kolaborasi Tim           |          |\n' +
    'Presentasi               |          |\n' +
    '-------------------------|----------|------------------\n' +
    'TOTAL                    |    / 20  |\n\n' +
    'Nilai = (Total / 20) x 100 = _______\n\n' +
    'Guru                              Siswa\n\n\n' +
    '___________________              ___________________\n\n' +
    garis + '\n' +
    'Generated by AI - BahasaIndonesiaMA.blogspot.com\n' +
    garis;

  var blob = new Blob([isi], { type: 'text/plain;charset=utf-8' });
  var link = document.createElement('a');
  link.href = URL.createObjectURL(blob);
  link.download = 'LKPD_HOTS_' + dataModul.mapel.replace(/\s/g,'_') + '_Kelas_' + dataModul.kelas + '.txt';
  link.click();
  alert('‚úÖ LKPD HOTS berhasil didownload!\n\nüìã Isi Lengkap:\n‚úì Tahap Analisis (C4)\n‚úì Tahap Evaluasi (C5)\n‚úì Tahap Kreasi (C6)\n‚úì Refleksi Metakognitif\n‚úì Rubrik Penilaian');
}

function unduhSoalPG() {
  var garis = '='.repeat(80);
  var t = dataModul.topik;
  var m = dataModul.mapel;
  
  var isi = 'BANK SOAL PILIHAN GANDA BERBASIS HOTS\n' +
    m + ' - Kelas ' + dataModul.kelas + '\n' +
    'Topik: ' + t + '\n\n' +
    garis + '\n' +
    'INFORMASI\n' +
    garis + '\n' +
    'Jumlah Soal    : 20 soal (A-E)\n' +
    'Level Kognitif : C4, C5, C6 (HOTS)\n' +
    'Alokasi Waktu  : 60 menit\n\n' +
    garis + '\n' +
    'BAGIAN 1: LEVEL C4 - MENGANALISIS (Soal 1-7)\n' +
    garis + '\n\n' +
    '1. Dalam penerapan ' + t + ', terdapat perbedaan hasil\n' +
    '   antara dua kelompok. Faktor PALING MUNGKIN adalah...\n' +
    '   A. Pemahaman yang sama\n' +
    '   B. Perbedaan karakteristik individu\n' +
    '   C. Metode yang identik\n' +
    '   D. Tidak ada variabel lain\n' +
    '   E. Kesalahan pengukuran\n\n' +
    '2. Pernyataan tentang ' + t + ':\n' +
    '   I. Berhubungan dengan ' + m + ' modern\n' +
    '   II. Dapat bervariasi tergantung konteks\n' +
    '   III. Hanya berguna dalam akademis\n' +
    '   IV. Konsep yang statis\n\n' +
    '   Yang menunjukkan pemahaman mendalam adalah...\n' +
    '   A. I dan II\n' +
    '   B. I dan III\n' +
    '   C. II dan III\n' +
    '   D. II dan IV\n' +
    '   E. III dan IV\n\n' +
    '3. Penerapan ' + t + ' menghasilkan dampak tidak diharapkan.\n' +
    '   Langkah PALING TEPAT adalah...\n' +
    '   A. Mengabaikan dampak negatif\n' +
    '   B. Menghentikan total penerapan\n' +
    '   C. Identifikasi kesalahan dan perbaiki pemahaman\n' +
    '   D. Ganti metode tanpa evaluasi\n' +
    '   E. Menyalahkan individu\n\n' +
    '4-7. [Soal analisis lainnya]\n\n' +
    garis + '\n' +
    'BAGIAN 2: LEVEL C5 - MENGEVALUASI (Soal 8-14)\n' +
    garis + '\n\n' +
    '8. Metode asesmen yang PALING EFEKTIF untuk mengukur\n' +
    '   pemahaman mendalam ' + t + ' adalah...\n' +
    '   A. Tes pilihan ganda definisi\n' +
    '   B. Proyek penerapan dan presentasi analisis kasus\n' +
    '   C. Kuis hafalan\n' +
    '   D. Tes prosedural\n' +
    '   E. Semua sama efektif\n\n' +
    '9. Argumen PALING KUAT tentang pentingnya ' + t + ':\n' +
    '   A. Sering muncul dalam ujian\n' +
    '   B. Mengembangkan berpikir kritis dan fondasi konsep lanjutan\n' +
    '   C. Mudah dipelajari\n' +
    '   D. Wajib dikuasai\n' +
    '   E. Tradisional\n\n' +
    '10-14. [Soal evaluasi lainnya]\n\n' +
    garis + '\n' +
    'BAGIAN 3: LEVEL C6 - MENCIPTA (Soal 15-20)\n' +
    garis + '\n\n' +
    '15. Komponen PALING PENTING dalam kegiatan pembelajaran\n' +
    '    inovatif ' + t + ' adalah...\n' +
    '    A. Ceramah panjang\n' +
    '    B. Tugas menghafal\n' +
    '    C. Masalah autentik yang menantang kreativitas\n' +
    '    D. Kuis harian\n' +
    '    E. PR banyak\n\n' +
    '16. Fitur ESENSIAL aplikasi yang mendemonstrasikan ' + t + ':\n' +
    '    A. Animasi tanpa penjelasan\n' +
    '    B. Teks panjang teori\n' +
    '    C. Simulasi interaktif sebab-akibat\n' +
    '    D. Kumpulan soal\n' +
    '    E. Musik latar\n\n' +
    '17-20. [Soal kreasi lainnya]\n\n' +
    garis + '\n' +
    'KUNCI JAWABAN\n' +
    garis + '\n\n' +
    '1.B   2.A   3.C   4.B   5.C\n' +
    '6.B   7.A   8.B   9.B   10.C\n' +
    '11.B  12.B  13.C  14.D  15.C\n' +
    '16.C  17.B  18.B  19.B  20.C\n\n' +
    garis + '\n' +
    'PEMBAHASAN\n' +
    garis + '\n\n' +
    'Soal 1: Jawaban B\n' +
    'Karakteristik individu berbeda dapat menghasilkan hasil berbeda\n' +
    'meski metode sama. Ini menunjukkan pemahaman tentang variabel.\n\n' +
    'Soal 2: Jawaban A\n' +
    'Pernyataan I dan II menunjukkan pemahaman kontekstual dan dinamis.\n\n' +
    'Soal 3: Jawaban C\n' +
    'Pendekatan sistematis: identifikasi akar masalah lalu perbaiki.\n\n' +
    '[Pembahasan soal lainnya...]\n\n' +
    garis + '\n' +
    'PEDOMAN PENSKORAN\n' +
    garis + '\n\n' +
    'Setiap soal = 5 poin\n' +
    'Total = 100 poin\n\n' +
    'Kategori:\n' +
    '90-100 = A (Sangat Baik - Menguasai HOTS)\n' +
    '80-89  = B (Baik - Menguasai HOTS memadai)\n' +
    '70-79  = C (Cukup - Perlu latihan)\n' +
    '60-69  = D (Kurang - Perlu bimbingan)\n' +
    '<60    = E (Perlu remedial intensif)\n\n' +
    garis + '\n' +
    'DISTRIBUSI LEVEL KOGNITIF\n' +
    garis + '\n' +
    'C4 (Menganalisis) : 7 soal (35%)\n' +
    'C5 (Mengevaluasi) : 7 soal (35%)\n' +
    'C6 (Mencipta)     : 6 soal (30%)\n\n' +
    'Soal dirancang mengukur kemampuan berpikir tingkat tinggi\n' +
    'berdasarkan Taksonomi Bloom Revisi.\n\n' +
    garis + '\n' +
    'Generated by AI - BahasaIndonesiaMA.blogspot.com\n' +
    'Permendikdasmen No. 12 Tahun 2025\n' +
    garis;

  var blob = new Blob([isi], { type: 'text/plain;charset=utf-8' });
  var link = document.createElement('a');
  link.href = URL.createObjectURL(blob);
  link.download = 'Soal_HOTS_' + dataModul.mapel.replace(/\s/g,'_') + '_Kelas_' + dataModul.kelas + '.txt';
  link.click();
  alert('‚úÖ Soal HOTS berhasil didownload!\n\nüìù Paket Lengkap:\n‚úì 20 Soal Berbasis HOTS\n‚úì C4-Analisis (7 soal)\n‚úì C5-Evaluasi (7 soal)\n‚úì C6-Kreasi (6 soal)\n‚úì Kunci Jawaban\n‚úì Pembahasan\n‚úì Pedoman Penskoran');
}

function unduhModulPDF() {
  alert('üìÑ Cara Download PDF:\n\n1. Klik "Preview Lengkap"\n2. Tekan Ctrl+P (Print)\n3. Pilih "Save as PDF"\n4. Klik Save\n\nAtau:\nBuka file TXT di Word,\nlalu Save as PDF');
}

function kirimTerimaKasih() {
  var nama = prompt('üíù Terima kasih!\n\nNama Anda (opsional):');
  var pesan = prompt('üìù Testimoni atau saran:');
  
  if (pesan && pesan.trim()) {
    var txt = 'TESTIMONI PENGGUNA\n\n' +
      (nama ? 'Dari: ' + nama + '\n' : '') +
      'Tanggal: ' + new Date().toLocaleDateString('id-ID') + '\n' +
      'Modul: ' + dataModul.mapel + ' Kelas ' + dataModul.kelas + '\n' +
      'Topik: ' + dataModul.topik + '\n\n' +
      'Testimoni:\n' + pesan + '\n\n' +
      'BahasaIndonesiaMA.blogspot.com';
    
    var blob = new Blob([txt], { type: 'text/plain;charset=utf-8' });
    var link = document.createElement('a');
    link.href = URL.createObjectURL(blob);
    link.download = 'Testimoni.txt';
    link.click();
    
    alert('üéâ Terima kasih!\n\nFile testimoni didownload.\nKirim ke: bahasaindonesiama@gmail.com\n\nBagikan ke rekan guru! üöÄ');
  }
}

function buatModulBaru() {
  document.getElementById('jenjang').value = '';
  document.getElementById('mapel').value = '';
  document.getElementById('kelas').value = '';
  document.getElementById('topik').value = '';
  document.getElementById('jenis').value = '';
  document.getElementById('durasi').value = '';
  document.getElementById('tema').value = '';
  document.getElementById('formArea').style.display = 'block';
  document.getElementById('resultArea').style.display = 'none';
  dataModul = null;
  window.scrollTo({ top: 0, behavior: 'smooth' });
}
</script>
</body>
</html>
