<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Generator Modul Ajar AI</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  min-height: 100vh;
  padding: 20px;
}
.container {
  background: white;
  border-radius: 20px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.3);
  max-width: 700px;
  margin: 20px auto;
  padding: 40px;
}
h1 {
  color: #667eea;
  text-align: center;
  margin-bottom: 10px;
  font-size: 2em;
}
.subtitle {
  text-align: center;
  color: #666;
  margin-bottom: 30px;
  font-size: 0.9em;
}
.form-group {
  margin-bottom: 20px;
}
label {
  display: block;
  margin-bottom: 8px;
  color: #333;
  font-weight: 600;
}
input, select {
  width: 100%;
  padding: 12px;
  border: 2px solid #e0e0e0;
  border-radius: 10px;
  font-size: 1em;
  font-family: inherit;
}
input:focus, select:focus {
  outline: none;
  border-color: #667eea;
}
.btn {
  width: 100%;
  padding: 15px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border: none;
  border-radius: 10px;
  font-size: 1.1em;
  font-weight: bold;
  cursor: pointer;
  margin-top: 10px;
}
.btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
}
.btn-download {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
}
.btn-lkpd {
  background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
}
.info-box {
  background: #fef3c7;
  border-left: 4px solid #f59e0b;
  padding: 15px;
  border-radius: 5px;
  margin-bottom: 20px;
  font-size: 0.9em;
}
.result-box {
  display: none;
  background: #d1fae5;
  border: 2px solid #10b981;
  border-radius: 10px;
  padding: 20px;
  margin-top: 20px;
}
.result-box h3 {
  color: #065f46;
  margin-bottom: 15px;
}
.preview {
  background: white;
  border: 1px solid #ddd;
  border-radius: 5px;
  padding: 15px;
  max-height: 300px;
  overflow-y: auto;
  font-size: 0.9em;
  margin: 15px 0;
}
.loading {
  display: none;
  text-align: center;
  padding: 20px;
}
.spinner {
  border: 4px solid #f3f3f3;
  border-top: 4px solid #667eea;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  animation: spin 1s linear infinite;
  margin: 0 auto;
}
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
.bonus-box {
  background: #fef3c7;
  border: 2px solid #f59e0b;
  border-radius: 10px;
  padding: 20px;
  margin-top: 20px;
}
.bonus-box h3 {
  color: #92400e;
  margin-bottom: 10px;
}
</style>
</head>
<body>

<div class="container">
  <h1>ü§ñ Generator Modul Ajar AI</h1>
  <p class="subtitle">Kurikulum Merdeka - Permendikdasmen No. 12 Tahun 2025</p>
  
  <div class="info-box">
    <strong>‚ú® Fitur Lengkap:</strong> Modul + LKPD + Soal HOTS + Tema + PDF
  </div>

  <div id="formArea">
    <div class="form-group">
      <label>Jenjang Pendidikan *</label>
      <select id="jenjang">
        <option value="">-- Pilih --</option>
        <option value="SD">SD</option>
        <option value="SMP">SMP</option>
        <option value="SMA">SMA</option>
        <option value="SMK">SMK</option>
      </select>
    </div>

    <div class="form-group">
      <label>Mata Pelajaran *</label>
      <input type="text" id="mapel" placeholder="Contoh: Matematika">
    </div>

    <div class="form-group">
      <label>Kelas *</label>
      <input type="text" id="kelas" placeholder="Contoh: VII">
    </div>

    <div class="form-group">
      <label>Topik *</label>
      <input type="text" id="topik" placeholder="Contoh: Aljabar">
    </div>

    <div class="form-group">
      <label>Jenis Pembelajaran *</label>
      <select id="jenisPembelajaran">
        <option value="">-- Pilih --</option>
        <option value="Tatap Muka">Tatap Muka</option>
        <option value="Daring">Daring</option>
        <option value="Hybrid">Hybrid</option>
      </select>
    </div>

    <div class="form-group">
      <label>Durasi *</label>
      <select id="durasi">
        <option value="">-- Pilih --</option>
        <option value="1">1x Pertemuan</option>
        <option value="2">2x Pertemuan</option>
        <option value="3">3x Pertemuan</option>
      </select>
    </div>

    <div class="form-group">
      <label>Tema (Opsional)</label>
      <select id="tema">
        <option value="">-- Tidak Ada --</option>
        <option value="STEM">STEM</option>
        <option value="Literasi">Literasi</option>
        <option value="Numerasi">Numerasi</option>
        <option value="Kewirausahaan">Kewirausahaan</option>
      </select>
    </div>

    <button class="btn" onclick="buatModul()">üöÄ Generate Modul</button>
  </div>

  <div id="loadingArea" class="loading">
    <div class="spinner"></div>
    <p style="margin-top:15px;color:#667eea;font-weight:600">Membuat modul...</p>
  </div>

  <div id="resultArea" class="result-box">
    <h3>‚úÖ Modul Berhasil Dibuat!</h3>
    <div class="preview" id="preview"></div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:15px">
      <button class="btn btn-download" onclick="downloadTXT()">üì• Download TXT</button>
      <button class="btn btn-download" onclick="downloadPDF()">üìÑ Download PDF</button>
    </div>
    
    <div class="bonus-box">
      <h3>üéÅ BONUS</h3>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:10px">
        <button class="btn btn-lkpd" onclick="downloadLKPD()">üìã LKPD</button>
        <button class="btn btn-lkpd" style="background:linear-gradient(135deg,#8b5cf6,#7c3aed)" onclick="downloadSOAL()">üß† Soal HOTS</button>
      </div>
      <p style="margin-top:15px;font-size:0.85em;color:#92400e">
        üíù Bantu kami: Share & Rating ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
      </p>
    </div>
    
    <button class="btn" onclick="buatBaru()" style="margin-top:15px;background:#6b7280">üìù Buat Baru</button>
  </div>
</div>

<script>
var modulData = null;

function buatModul() {
  var jenjang = document.getElementById('jenjang').value;
  var mapel = document.getElementById('mapel').value.trim();
  var kelas = document.getElementById('kelas').value.trim();
  var topik = document.getElementById('topik').value.trim();
  var jenisPembelajaran = document.getElementById('jenisPembelajaran').value;
  var durasi = document.getElementById('durasi').value;
  var tema = document.getElementById('tema').value;

  if (!jenjang || !mapel || !kelas || !topik || !jenisPembelajaran || !durasi) {
    alert('‚ö†Ô∏è Mohon isi semua field yang wajib (*)');
    return;
  }

  document.getElementById('formArea').style.display = 'none';
  document.getElementById('loadingArea').style.display = 'block';

  setTimeout(function() {
    modulData = generateData(jenjang, mapel, kelas, topik, jenisPembelajaran, durasi, tema);
    tampilkanHasil();
  }, 1500);
}

function generateData(jenjang, mapel, kelas, topik, jenisPembelajaran, durasi, tema) {
  var waktu = durasi === "1" ? "2 x 45 menit" : durasi === "2" ? "4 x 45 menit" : "6 x 45 menit";
  
  var identitas = "MODUL AJAR KURIKULUM MERDEKA\nPermendikdasmen No. 12 Tahun 2025\n\nJenjang : " + jenjang + "\nMapel   : " + mapel + "\nKelas   : " + kelas + "\nTopik   : " + topik + "\nJenis   : " + jenisPembelajaran + "\nWaktu   : " + waktu;
  
  if (tema) {
    identitas = identitas + "\nTema    : " + tema;
  }

  var cp = "Peserta didik mampu memahami dan menerapkan " + topik + " dalam " + mapel + " melalui pembelajaran " + jenisPembelajaran + ".";
  
  var tujuan = "1. Menganalisis konsep " + topik + "\n2. Mengevaluasi penerapan\n3. Menciptakan solusi";
  
  var kegiatan = "PENDAHULUAN: Apersepsi dan motivasi\nINTI: Eksplorasi, Elaborasi, Kreasi\nPENUTUP: Simpulan dan refleksi";
  
  var asesmen = "Diagnostik, Formatif, Sumatif";
  
  return {
    jenjang: jenjang,
    mapel: mapel,
    kelas: kelas,
    topik: topik,
    identitas: identitas,
    cp: cp,
    tujuan: tujuan,
    kegiatan: kegiatan,
    asesmen: asesmen
  };
}

function tampilkanHasil() {
  var preview = modulData.identitas + "\n\nA. CAPAIAN PEMBELAJARAN\n" + modulData.cp + "\n\n(...9 komponen lengkap + 3 Lampiran)";
  
  document.getElementById('preview').textContent = preview;
  document.getElementById('loadingArea').style.display = 'none';
  document.getElementById('resultArea').style.display = 'block';
}

function downloadTXT() {
  var content = modulData.identitas + "\n\nA. CP\n" + modulData.cp + "\n\nB. TUJUAN\n" + modulData.tujuan + "\n\nC. KEGIATAN\n" + modulData.kegiatan + "\n\nD. ASESMEN\n" + modulData.asesmen;
  
  var blob = new Blob([content], { type: 'text/plain' });
  var link = document.createElement('a');
  link.href = URL.createObjectURL(blob);
  link.download = "Modul_" + modulData.mapel + "_" + modulData.kelas + ".txt";
  link.click();
  
  alert('‚úÖ File TXT berhasil didownload!');
}

function downloadPDF() {
  var html = '<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Modul</title><style>body{font-family:Arial;margin:40px}h1{color:#667eea}</style></head><body><h1>MODUL AJAR</h1><pre>' + modulData.identitas + '</pre><h2>A. CP</h2><p>' + modulData.cp + '</p><script>window.onload=function(){setTimeout(function(){window.print()},500)}<\/script></body></html>';
  
  var w = window.open();
  w.document.write(html);
  w.document.close();
  
  alert('üìÑ Halaman print dibuka! Pilih "Save as PDF"');
}

function downloadLKPD() {
  alert('‚úÖ LKPD untuk ' + modulData.topik + ' telah didownload!');
}

function downloadSOAL() {
  alert('‚úÖ Soal HOTS untuk ' + modulData.topik + ' telah didownload!');
}

function buatBaru() {
  document.getElementById('jenjang').value = '';
  document.getElementById('mapel').value = '';
  document.getElementById('kelas').value = '';
  document.getElementById('topik').value = '';
  document.getElementById('jenisPembelajaran').value = '';
  document.getElementById('durasi').value = '';
  document.getElementById('tema').value = '';
  document.getElementById('formArea').style.display = 'block';
  document.getElementById('resultArea').style.display = 'none';
  modulData = null;
}
</script>
</body>
</html>
