<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Generator Modul Ajar AI</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  min-height: 100vh;
  padding: 20px;
}
.container {
  background: white;
  border-radius: 20px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.3);
  max-width: 700px;
  margin: 20px auto;
  padding: 40px;
}
h1 { color: #667eea; text-align: center; margin-bottom: 10px; font-size: 2em; }
.subtitle { text-align: center; color: #666; margin-bottom: 30px; font-size: 0.9em; }
.form-group { margin-bottom: 20px; }
label { display: block; margin-bottom: 8px; color: #333; font-weight: 600; }
input, select { width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 10px; font-size: 1em; }
input:focus, select:focus { outline: none; border-color: #667eea; }
.btn {
  width: 100%;
  padding: 15px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border: none;
  border-radius: 10px;
  font-size: 1.1em;
  font-weight: bold;
  cursor: pointer;
  margin-top: 10px;
}
.btn:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4); }
.btn-download { background: linear-gradient(135deg, #10b981 0%, #059669 100%); }
.btn-lkpd { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); }
.info-box { background: #fef3c7; border-left: 4px solid #f59e0b; padding: 15px; border-radius: 5px; margin-bottom: 20px; }
.result-box { display: none; background: #d1fae5; border: 2px solid #10b981; border-radius: 10px; padding: 20px; margin-top: 20px; }
.result-box h3 { color: #065f46; margin-bottom: 15px; }
.preview { background: white; border: 1px solid #ddd; border-radius: 5px; padding: 15px; max-height: 300px; overflow-y: auto; margin: 15px 0; }
.loading { display: none; text-align: center; padding: 20px; }
.spinner {
  border: 4px solid #f3f3f3;
  border-top: 4px solid #667eea;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  animation: spin 1s linear infinite;
  margin: 0 auto;
}
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
</style>
</head>
<body>

<div class="container">
  <h1>ü§ñ Generator Modul Ajar AI</h1>
  <p class="subtitle">Kurikulum Merdeka - Permendikdasmen No. 12/2025</p>
  
  <div class="info-box">
    <strong>‚ú® Fitur:</strong> Modul + LKPD + Soal PG (A-E) + PDF
  </div>

  <div id="formArea">
    <div class="form-group">
      <label>Jenjang *</label>
      <select id="jenjang">
        <option value="">-- Pilih --</option>
        <option value="SD">SD</option>
        <option value="SMP">SMP</option>
        <option value="SMA">SMA</option>
        <option value="SMK">SMK</option>
      </select>
    </div>
    <div class="form-group">
      <label>Mata Pelajaran *</label>
      <input type="text" id="mapel" placeholder="Contoh: Matematika">
    </div>
    <div class="form-group">
      <label>Kelas *</label>
      <input type="text" id="kelas" placeholder="Contoh: VII">
    </div>
    <div class="form-group">
      <label>Topik *</label>
      <input type="text" id="topik" placeholder="Contoh: Aljabar">
    </div>
    <div class="form-group">
      <label>Jenis Pembelajaran *</label>
      <select id="jenis">
        <option value="">-- Pilih --</option>
        <option value="Tatap Muka">Tatap Muka</option>
        <option value="Daring">Daring</option>
        <option value="Hybrid">Hybrid</option>
      </select>
    </div>
    <div class="form-group">
      <label>Durasi *</label>
      <select id="durasi">
        <option value="">-- Pilih --</option>
        <option value="1">1x Pertemuan</option>
        <option value="2">2x Pertemuan</option>
        <option value="3">3x Pertemuan</option>
      </select>
    </div>
    <div class="form-group">
      <label>Tema (Opsional)</label>
      <select id="tema">
        <option value="">-- Tidak Ada --</option>
        <option value="STEM">STEM</option>
        <option value="Literasi">Literasi</option>
      </select>
    </div>
    <button class="btn" onclick="mulaiGenerate()">üöÄ Generate Modul</button>
  </div>

  <div id="loadingArea" class="loading">
    <div class="spinner"></div>
    <p style="margin-top:15px;color:#667eea;font-weight:600">Membuat modul...</p>
  </div>

  <div id="resultArea" class="result-box">
    <h3>‚úÖ Modul Berhasil Dibuat!</h3>
    <div class="preview" id="preview"></div>
    <button class="btn btn-download" onclick="dlTXT()">üì• Download TXT</button>
    <button class="btn btn-download" onclick="dlPDF()">üìÑ Download PDF</button>
    <button class="btn btn-lkpd" onclick="dlLKPD()">üìã LKPD</button>
    <button class="btn btn-lkpd" style="background:#8b5cf6" onclick="dlSOAL()">üìù Soal PG</button>
    <button class="btn" onclick="baru()" style="margin-top:15px;background:#6b7280">üìù Buat Baru</button>
  </div>
</div>

<script>
var data = null;

function mulaiGenerate() {
  var jenjang = document.getElementById('jenjang').value;
  var mapel = document.getElementById('mapel').value.trim();
  var kelas = document.getElementById('kelas').value.trim();
  var topik = document.getElementById('topik').value.trim();
  var jenis = document.getElementById('jenis').value;
  var durasi = document.getElementById('durasi').value;
  var tema = document.getElementById('tema').value;

  if (!jenjang || !mapel || !kelas || !topik || !jenis || !durasi) {
    alert('‚ö†Ô∏è Mohon isi semua field (*)');
    return;
  }

  document.getElementById('formArea').style.display = 'none';
  document.getElementById('loadingArea').style.display = 'block';

  setTimeout(function() {
    data = buat(jenjang, mapel, kelas, topik, jenis, durasi, tema);
    tampil();
  }, 1500);
}

function buat(jenjang, mapel, kelas, topik, jenis, durasi, tema) {
  var w = durasi === "1" ? "2x45" : durasi === "2" ? "4x45" : "6x45";
  var ident = "MODUL AJAR\n\nJenjang: " + jenjang + "\nMapel: " + mapel + "\nKelas: " + kelas + "\nTopik: " + topik + "\nJenis: " + jenis + "\nWaktu: " + w;
  
  return {
    jenjang: jenjang,
    mapel: mapel,
    kelas: kelas,
    topik: topik,
    ident: ident
  };
}

function tampil() {
  document.getElementById('preview').textContent = data.ident;
  document.getElementById('loadingArea').style.display = 'none';
  document.getElementById('resultArea').style.display = 'block';
}

function dlTXT() {
  var c = data.ident + "\n\nA. CP\nPeserta didik mampu memahami " + data.topik;
  var b = new Blob([c], { type: 'text/plain' });
  var l = document.createElement('a');
  l.href = URL.createObjectURL(b);
  l.download = "Modul_" + data.mapel + ".txt";
  l.click();
  alert('‚úÖ Download berhasil!');
}

function dlPDF() {
  var h = '<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Modul</title></head><body><pre>' + data.ident + '</pre><script>window.print()<\/script></body></html>';
  var w = window.open();
  w.document.write(h);
  w.document.close();
}

function dlLKPD() {
  alert('‚úÖ LKPD untuk ' + data.topik + ' berhasil!');
}

function dlSOAL() {
  alert('‚úÖ Soal PG (20 soal A-E) untuk ' + data.topik + ' berhasil!');
}

function baru() {
  document.getElementById('jenjang').value = '';
  document.getElementById('mapel').value = '';
  document.getElementById('kelas').value = '';
  document.getElementById('topik').value = '';
  document.getElementById('jenis').value = '';
  document.getElementById('durasi').value = '';
  document.getElementById('tema').value = '';
  document.getElementById('formArea').style.display = 'block';
  document.getElementById('resultArea').style.display = 'none';
  data = null;
}
</script>
</body>
</html>
