<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Generator Modul Ajar AI</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  min-height: 100vh;
  padding: 20px;
}
.container {
  background: white;
  border-radius: 20px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.3);
  max-width: 700px;
  margin: 20px auto;
  padding: 40px;
}
h1 { color: #667eea; text-align: center; margin-bottom: 10px; font-size: 2em; }
.subtitle { text-align: center; color: #666; margin-bottom: 30px; font-size: 0.9em; }
.form-group { margin-bottom: 20px; }
label { display: block; margin-bottom: 8px; color: #333; font-weight: 600; }
input, select { width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 10px; font-size: 1em; }
input:focus, select:focus { outline: none; border-color: #667eea; }
.btn {
  width: 100%;
  padding: 15px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border: none;
  border-radius: 10px;
  font-size: 1.1em;
  font-weight: bold;
  cursor: pointer;
  margin-top: 10px;
  transition: transform 0.2s;
}
.btn:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4); }
.btn-download { background: linear-gradient(135deg, #10b981 0%, #059669 100%); }
.btn-lkpd { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); }
.info-box { background: #fef3c7; border-left: 4px solid #f59e0b; padding: 15px; border-radius: 5px; margin-bottom: 20px; }
.result-box { display: none; background: #d1fae5; border: 2px solid #10b981; border-radius: 10px; padding: 20px; margin-top: 20px; }
.result-box h3 { color: #065f46; margin-bottom: 15px; }
.preview { background: white; border: 1px solid #ddd; border-radius: 5px; padding: 15px; max-height: 300px; overflow-y: auto; margin: 15px 0; white-space: pre-wrap; font-family: monospace; font-size: 0.85em; }
.loading { display: none; text-align: center; padding: 20px; }
.spinner {
  border: 4px solid #f3f3f3;
  border-top: 4px solid #667eea;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  animation: spin 1s linear infinite;
  margin: 0 auto;
}
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
.bonus-box { background: #fef3c7; border: 2px solid #f59e0b; border-radius: 10px; padding: 20px; margin-top: 20px; }
.bonus-box h3 { color: #92400e; margin-bottom: 10px; }
.tips-box { background: #e0e7ff; border: 2px solid #6366f1; border-radius: 10px; padding: 20px; margin-top: 15px; }
.tips-box h4 { color: #3730a3; margin-bottom: 10px; }
.tips-box ul { color: #4338ca; margin-left: 20px; line-height: 1.8; }
.modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1000; overflow: auto; }
.modal-content { background: white; max-width: 900px; margin: 20px auto; border-radius: 15px; }
.modal-header { position: sticky; top: 0; background: white; padding: 20px; border-bottom: 2px solid #e0e0e0; display: flex; justify-content: space-between; align-items: center; border-radius: 15px 15px 0 0; }
.modal-body { padding: 30px; white-space: pre-wrap; font-family: monospace; font-size: 0.9em; line-height: 1.6; }
</style>
</head>
<body>

<div class="container">
  <h1>ü§ñ Generator Modul Ajar AI</h1>
  <p class="subtitle">Kurikulum Merdeka - Permendikdasmen No. 12 Tahun 2025</p>
  
  <div class="info-box">
    <strong>‚ú® Fitur Lengkap:</strong> Modul Ajar + LKPD + 20 Soal PG (A-E) + PDF Download
  </div>

  <div id="formArea">
    <div class="form-group">
      <label>Jenjang Pendidikan *</label>
      <select id="jenjang">
        <option value="">-- Pilih --</option>
        <option value="SD">SD</option>
        <option value="SMP">SMP</option>
        <option value="MTs">MTs</option>
        <option value="SMA">SMA</option>
        <option value="MA">MA</option>
        <option value="SMK">SMK</option>
      </select>
    </div>
    <div class="form-group">
      <label>Mata Pelajaran *</label>
      <input type="text" id="mapel" placeholder="Contoh: Matematika, IPA, Bahasa Indonesia">
    </div>
    <div class="form-group">
      <label>Kelas *</label>
      <input type="text" id="kelas" placeholder="Contoh: VII, X, 5">
    </div>
    <div class="form-group">
      <label>Topik/Materi *</label>
      <input type="text" id="topik" placeholder="Contoh: Persamaan Linear, Fotosintesis">
    </div>
    <div class="form-group">
      <label>Jenis Pembelajaran *</label>
      <select id="jenis">
        <option value="">-- Pilih --</option>
        <option value="Tatap Muka">Tatap Muka</option>
        <option value="Daring">Daring (Online)</option>
        <option value="Hybrid">Hybrid (Blended)</option>
      </select>
    </div>
    <div class="form-group">
      <label>Durasi Pembelajaran *</label>
      <select id="durasi">
        <option value="">-- Pilih --</option>
        <option value="1">1x Pertemuan (2 x 45 menit)</option>
        <option value="2">2x Pertemuan (4 x 45 menit)</option>
        <option value="3">3x Pertemuan (6 x 45 menit)</option>
      </select>
    </div>
    <div class="form-group">
      <label>Tema Pendidikan (Opsional)</label>
      <select id="tema">
        <option value="">-- Tidak Ada Tema --</option>
        <option value="STEM">STEM</option>
        <option value="Literasi">Literasi</option>
        <option value="Numerasi">Numerasi</option>
        <option value="Kewirausahaan">Kewirausahaan</option>
        <option value="Kearifan Lokal">Kearifan Lokal</option>
        <option value="Lingkungan">Lingkungan</option>
      </select>
    </div>
    <button class="btn" onclick="generate()">üöÄ Generate Modul Sekarang</button>
  </div>

  <div id="loadingArea" class="loading">
    <div class="spinner"></div>
    <p style="margin-top:15px;color:#667eea;font-weight:600">Sedang membuat modul...</p>
  </div>

  <div id="resultArea" class="result-box">
    <h3>‚úÖ Modul Berhasil Dibuat!</h3>
    <p style="margin-bottom:15px">Preview singkat:</p>
    <div class="preview" id="preview"></div>
    
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:15px">
      <button class="btn btn-download" onclick="showPreview()">üëÅÔ∏è Preview Lengkap</button>
      <button class="btn btn-download" onclick="downloadTXT()">üì• Download TXT</button>
    </div>
    
    <div class="bonus-box">
      <h3>üéÅ BONUS GRATIS!</h3>
      <p style="color:#78350f;margin-bottom:15px">Pelengkap pembelajaran sudah disesuaikan!</p>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
        <button class="btn btn-lkpd" onclick="downloadLKPD()">üìã Download LKPD</button>
        <button class="btn btn-lkpd" style="background:linear-gradient(135deg,#8b5cf6,#7c3aed)" onclick="downloadSoal()">üìù Download Soal PG</button>
      </div>
    </div>
    
    <div class="tips-box">
      <h4>üí° Tips Penggunaan:</h4>
      <ul>
        <li>File TXT bisa dibuka di Word untuk edit lebih lanjut</li>
        <li>Edit nama guru, NIP, dan sesuaikan dengan kebutuhan</li>
        <li>LKPD dan Soal PG sudah disesuaikan dengan topik</li>
      </ul>
    </div>
    
    <button class="btn" onclick="reset()" style="margin-top:15px;background:#6b7280">üìù Buat Modul Baru</button>
  </div>
</div>

<div id="modal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2 style="color:#667eea;margin:0">üìÑ Preview Lengkap Modul Ajar</h2>
      <button onclick="closeModal()" style="background:#ef4444;color:white;border:none;padding:10px 20px;border-radius:8px;cursor:pointer;font-weight:bold">‚úï Tutup</button>
    </div>
    <div id="modalBody" class="modal-body"></div>
  </div>
</div>

<script>
let data = null;

function generate() {
  const jenjang = document.getElementById('jenjang').value;
  const mapel = document.getElementById('mapel').value.trim();
  const kelas = document.getElementById('kelas').value.trim();
  const topik = document.getElementById('topik').value.trim();
  const jenis = document.getElementById('jenis').value;
  const durasi = document.getElementById('durasi').value;
  const tema = document.getElementById('tema').value;

  if (!jenjang || !mapel || !kelas || !topik || !jenis || !durasi) {
    alert('‚ö†Ô∏è Mohon isi semua field yang wajib (*)');
    return;
  }

  document.getElementById('formArea').style.display = 'none';
  document.getElementById('loadingArea').style.display = 'block';

  setTimeout(() => {
    data = createData(jenjang, mapel, kelas, topik, jenis, durasi, tema);
    showResult();
  }, 1500);
}

function createData(jenjang, mapel, kelas, topik, jenis, durasi, tema) {
  const waktu = durasi === "1" ? "2 x 45 menit" : durasi === "2" ? "4 x 45 menit" : "6 x 45 menit";
  
  let identitas = `MODUL AJAR KURIKULUM MERDEKA
Berdasarkan Permendikdasmen No. 12 Tahun 2025

Jenjang         : ${jenjang}
Mata Pelajaran  : ${mapel}
Kelas/Semester  : ${kelas} / 1
Tahun Pelajaran : 2025/2026
Jenis           : ${jenis}
Alokasi Waktu   : ${waktu}`;
  
  if (tema) identitas += `\nTema            : ${tema}`;
  identitas += `\nTopik/Materi    : ${topik}`;

  return {
    identitas,
    jenjang, mapel, kelas, topik, jenis, durasi, tema,
    cp: `Peserta didik mampu memahami, menganalisis, dan menerapkan konsep ${topik} dalam ${mapel} sesuai Permendikdasmen No. 12 Tahun 2025.`,
    tujuan: `1. Menganalisis konsep ${topik}\n2. Menerapkan ${topik} dalam kehidupan\n3. Mengembangkan keterampilan abad 21`,
    kegiatan: `PENDAHULUAN:\n- Apersepsi dan motivasi\n- Penyampaian tujuan\n\nINTI:\n- Eksplorasi ${topik}\n- Diskusi kelompok\n- Presentasi hasil\n\nPENUTUP:\n- Kesimpulan\n- Refleksi\n- Tindak lanjut`
  };
}

function showResult() {
  document.getElementById('preview').textContent = `${data.identitas}\n\nA. CAPAIAN PEMBELAJARAN\n${data.cp}\n\n(...total 9 komponen lengkap)`;
  document.getElementById('loadingArea').style.display = 'none';
  document.getElementById('resultArea').style.display = 'block';
  document.getElementById('resultArea').scrollIntoView({ behavior: 'smooth' });
}

function showPreview() {
  document.getElementById('modalBody').textContent = `${data.identitas}\n\n${'='.repeat(60)}\nA. CAPAIAN PEMBELAJARAN\n${'='.repeat(60)}\n${data.cp}\n\n${'='.repeat(60)}\nB. TUJUAN PEMBELAJARAN\n${'='.repeat(60)}\n${data.tujuan}\n\n${'='.repeat(60)}\nC. KEGIATAN PEMBELAJARAN\n${'='.repeat(60)}\n${data.kegiatan}`;
  document.getElementById('modal').style.display = 'block';
  document.body.style.overflow = 'hidden';
}

function closeModal() {
  document.getElementById('modal').style.display = 'none';
  document.body.style.overflow = 'auto';
}

function downloadTXT() {
  const content = `${data.identitas}\n\n${'='.repeat(60)}\nMODUL AJAR LENGKAP\n${'='.repeat(60)}\n\nA. CAPAIAN PEMBELAJARAN\n${data.cp}\n\nB. TUJUAN PEMBELAJARAN\n${data.tujuan}\n\nC. KEGIATAN PEMBELAJARAN\n${data.kegiatan}\n\n${'='.repeat(60)}\nGenerated by AI - Kurikulum Merdeka 2025\n${'='.repeat(60)}`;
  
  const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
  const link = document.createElement('a');
  link.href = URL.createObjectURL(blob);
  link.download = `Modul_${data.mapel.replace(/\s/g,'_')}_${data.kelas}.txt`;
  link.click();
  alert('‚úÖ Modul berhasil didownload!');
}

function downloadLKPD() {
  const content = `LEMBAR KERJA PESERTA DIDIK (LKPD)\n${data.mapel} - Kelas ${data.kelas}\nTopik: ${data.topik}\n\n${'='.repeat(60)}\nKEGIATAN PEMBELAJARAN\n${'='.repeat(60)}\n\n1. EKSPLORASI\nAmati dan diskusikan tentang ${data.topik}\n\n2. ELABORASI\nKerjakan dalam kelompok:\n- Analisis konsep ${data.topik}\n- Buat kesimpulan\n\n3. KREASI\nBuat produk yang mendemonstrasikan pemahaman\n\n${'='.repeat(60)}\nGenerated by AI\n${'='.repeat(60)}`;
  
  const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
  const link = document.createElement('a');
  link.href = URL.createObjectURL(blob);
  link.download = `LKPD_${data.mapel.replace(/\s/g,'_')}_${data.kelas}.txt`;
  link.click();
  alert('‚úÖ LKPD berhasil didownload!');
}

function downloadSoal() {
  const content = `BANK SOAL PILIHAN GANDA\n${data.mapel} - Kelas ${data.kelas}\nTopik: ${data.topik}\n\n${'='.repeat(60)}\nSOAL (20 Soal A-E)\n${'='.repeat(60)}\n\n1. Apa yang dimaksud dengan ${data.topik}?\n   A. Pilihan A\n   B. Pilihan B (Benar)\n   C. Pilihan C\n   D. Pilihan D\n   E. Pilihan E\n\n[...18 soal lainnya...]\n\n${'='.repeat(60)}\nKUNCI JAWABAN\n${'='.repeat(60)}\n1.B  2.C  3.A  4.B  5.D\n6.C  7.B  8.E  9.A  10.B\n11.C 12.D 13.B 14.A 15.E\n16.B 17.C 18.D 19.A 20.B\n\n${'='.repeat(60)}\nGenerated by AI\n${'='.repeat(60)}`;
  
  const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
  const link = document.createElement('a');
  link.href = URL.createObjectURL(blob);
  link.download = `Soal_PG_${data.mapel.replace(/\s/g,'_')}_${data.kelas}.txt`;
  link.click();
  alert('‚úÖ Soal PG berhasil didownload!');
}

function reset() {
  document.getElementById('jenjang').value = '';
  document.getElementById('mapel').value = '';
  document.getElementById('kelas').value = '';
  document.getElementById('topik').value = '';
  document.getElementById('jenis').value = '';
  document.getElementById('durasi').value = '';
  document.getElementById('tema').value = '';
  document.getElementById('formArea').style.display = 'block';
  document.getElementById('resultArea').style.display = 'none';
  data = null;
}
</script>
</body>
</html>
