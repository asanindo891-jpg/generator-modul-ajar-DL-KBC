<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Generator Modul Ajar AI</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  min-height: 100vh;
  padding: 20px;
}
.container {
  background: white;
  border-radius: 20px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.3);
  max-width: 700px;
  margin: 20px auto;
  padding: 40px;
}
h1 {
  color: #667eea;
  text-align: center;
  margin-bottom: 10px;
  font-size: 2em;
}
.subtitle {
  text-align: center;
  color: #666;
  margin-bottom: 30px;
  font-size: 0.9em;
}
.form-group {
  margin-bottom: 20px;
}
label {
  display: block;
  margin-bottom: 8px;
  color: #333;
  font-weight: 600;
}
input, select, textarea {
  width: 100%;
  padding: 12px;
  border: 2px solid #e0e0e0;
  border-radius: 10px;
  font-size: 1em;
  font-family: inherit;
}
input:focus, select:focus, textarea:focus {
  outline: none;
  border-color: #667eea;
}
.btn {
  width: 100%;
  padding: 15px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border: none;
  border-radius: 10px;
  font-size: 1.1em;
  font-weight: bold;
  cursor: pointer;
  margin-top: 10px;
}
.btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
}
.btn-download {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
}
.btn-lkpd {
  background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
}
.info-box {
  background: #fef3c7;
  border-left: 4px solid #f59e0b;
  padding: 15px;
  border-radius: 5px;
  margin-bottom: 20px;
  font-size: 0.9em;
}
.result-box {
  display: none;
  background: #d1fae5;
  border: 2px solid #10b981;
  border-radius: 10px;
  padding: 20px;
  margin-top: 20px;
}
.result-box h3 {
  color: #065f46;
  margin-bottom: 15px;
}
.preview {
  background: white;
  border: 1px solid #ddd;
  border-radius: 5px;
  padding: 15px;
  max-height: 300px;
  overflow-y: auto;
  font-size: 0.9em;
  margin: 15px 0;
}
.loading {
  display: none;
  text-align: center;
  padding: 20px;
}
.spinner {
  border: 4px solid #f3f3f3;
  border-top: 4px solid #667eea;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  animation: spin 1s linear infinite;
  margin: 0 auto;
}
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
.bonus-box {
  background: #fef3c7;
  border: 2px solid #f59e0b;
  border-radius: 10px;
  padding: 20px;
  margin-top: 20px;
}
.bonus-box h3 {
  color: #92400e;
  margin-bottom: 10px;
}
.tips-box {
  background: #e0e7ff;
  border: 2px solid #6366f1;
  border-radius: 10px;
  padding: 20px;
  margin-top: 15px;
}
.tips-box h4 {
  color: #3730a3;
  margin-bottom: 10px;
}
.tips-box ul {
  color: #4338ca;
  margin-left: 20px;
  line-height: 1.8;
}
</style>
</head>
<body>

<div style="text-align:center;padding:10px;background:#f0f0f0;margin-bottom:10px">
  <div id="ad-slot-header">
    <p style="color:#999;font-size:0.8em">[ Space untuk Iklan Header ]</p>
  </div>
</div>

<div class="container">
  <h1>ü§ñ Generator Modul Ajar AI</h1>
  <p class="subtitle">Kurikulum Merdeka - Sesuai Permendikdasmen No. 12 Tahun 2025</p>
  
  <div class="info-box">
    <strong>‚ú® Fitur Lengkap:</strong> Modul sesuai Permendikdasmen No. 12/2025 + LKPD + Soal HOTS + Tema Pendidikan + PDF Download
  </div>

  <div id="formArea">
    <div class="form-group">
      <label>Jenjang Pendidikan *</label>
      <select id="jenjang">
        <option value="">-- Pilih --</option>
        <option value="SD">SD</option>
        <option value="SMP">SMP</option>
        <option value="MTs">MTs</option>
        <option value="SMA">SMA</option>
        <option value="MA">MA</option>
        <option value="SMK">SMK</option>
      </select>
    </div>

    <div class="form-group">
      <label>Mata Pelajaran *</label>
      <input type="text" id="mapel" placeholder="Contoh: Matematika, IPA">
    </div>

    <div class="form-group">
      <label>Kelas *</label>
      <input type="text" id="kelas" placeholder="Contoh: VII, X, 5">
    </div>

    <div class="form-group">
      <label>Topik/Materi *</label>
      <input type="text" id="topik" placeholder="Contoh: Persamaan Linear">
    </div>

    <div class="form-group">
      <label>Jenis Pembelajaran *</label>
      <select id="jenisPembelajaran">
        <option value="">-- Pilih --</option>
        <option value="Tatap Muka">Tatap Muka</option>
        <option value="Daring">Daring (Online)</option>
        <option value="Hybrid">Hybrid (Blended)</option>
      </select>
    </div>

    <div class="form-group">
      <label>Durasi Pembelajaran *</label>
      <select id="durasi">
        <option value="">-- Pilih --</option>
        <option value="1">1x Pertemuan (2 x 45 menit)</option>
        <option value="2">2x Pertemuan (4 x 45 menit)</option>
        <option value="3">3x Pertemuan (6 x 45 menit)</option>
      </select>
    </div>

    <div class="form-group">
      <label>Tema Pendidikan (Opsional)</label>
      <select id="tema">
        <option value="">-- Tidak Ada Tema --</option>
        <option value="STEM">STEM</option>
        <option value="Literasi">Literasi</option>
        <option value="Numerasi">Numerasi</option>
        <option value="Kewirausahaan">Kewirausahaan</option>
        <option value="Kearifan Lokal">Kearifan Lokal</option>
        <option value="Lingkungan">Lingkungan</option>
        <option value="Karakter">Karakter</option>
        <option value="Digital">Digital</option>
      </select>
    </div>

    <button class="btn" onclick="generate()">üöÄ Generate Modul Sekarang</button>
    
    <div style="text-align:center;padding:20px;margin-top:20px;background:#f9f9f9;border-radius:10px">
      <div id="ad-slot-middle">
        <p style="color:#999;font-size:0.8em">[ Space untuk Iklan Tengah ]</p>
      </div>
    </div>
  </div>

  <div id="loadingArea" class="loading">
    <div class="spinner"></div>
    <p style="margin-top:15px;color:#667eea;font-weight:600">Sedang membuat modul...</p>
  </div>

  <div id="resultArea" class="result-box">
    <h3>‚úÖ Modul Berhasil Dibuat!</h3>
    <p style="margin-bottom:15px">Preview singkat:</p>
    <div class="preview" id="preview"></div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:15px">
      <button class="btn btn-download" onclick="showFullPreview()">üëÅÔ∏è Preview Lengkap</button>
      <button class="btn btn-download" onclick="downloadWord()">üì• Download TXT</button>
    </div>
    <button class="btn btn-download" onclick="downloadPDF()" style="margin-top:10px;background:linear-gradient(135deg,#ef4444,#dc2626)">üìÑ Download PDF</button>
    
    <div class="bonus-box">
      <h3>üéÅ BONUS GRATIS!</h3>
      <p style="color:#78350f;margin-bottom:15px">Dapatkan pelengkap pembelajaran yang sudah disesuaikan!</p>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
        <button class="btn btn-lkpd" onclick="downloadLKPD()">üìã LKPD</button>
        <button class="btn btn-lkpd" style="background:linear-gradient(135deg,#8b5cf6,#7c3aed)" onclick="downloadSoalHOTS()">üß† Soal HOTS</button>
      </div>
      <p style="margin-top:15px;font-size:0.85em;color:#92400e">
        üíù <strong>Jika bermanfaat:</strong><br>
        ‚Ä¢ Share ke sesama guru<br>
        ‚Ä¢ Rating ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê<br>
        ‚Ä¢ Follow untuk update terbaru
      </p>
    </div>
    
    <div class="tips-box">
      <h4>üí° Tips Penggunaan:</h4>
      <ul>
        <li>File TXT bisa dibuka di Word</li>
        <li>PDF bisa langsung dicetak</li>
        <li>Edit sesuai kebutuhan</li>
        <li>Tambahkan logo sekolah</li>
      </ul>
    </div>
    
    <button class="btn" onclick="reset()" style="margin-top:15px;background:#6b7280">üìù Buat Modul Baru</button>
    <a href="https://bahasaindonesiama.blogspot.com" target="_blank" class="btn" style="margin-top:10px;background:linear-gradient(135deg,#ef4444,#dc2626);text-decoration:none;display:block;text-align:center">üè† Kembali ke Blog</a>
    
    <div style="text-align:center;padding:20px;margin-top:20px;background:#f9f9f9;border-radius:10px">
      <div id="ad-slot-bottom">
        <p style="color:#999;font-size:0.8em">[ Space untuk Iklan Bawah ]</p>
      </div>
    </div>
  </div>
</div>

<div style="text-align:center;padding:20px;background:#f0f0f0;margin-top:20px">
  <div id="ad-slot-footer">
    <p style="color:#999;font-size:0.8em">[ Space untuk Iklan Footer ]</p>
  </div>
</div>

<div id="previewModal" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);z-index:1000;overflow:auto">
  <div style="background:white;max-width:900px;margin:20px auto;border-radius:15px;position:relative">
    <div style="position:sticky;top:0;background:white;padding:20px;border-bottom:2px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center;border-radius:15px 15px 0 0">
      <h2 style="color:#667eea;margin:0">üìÑ Preview Lengkap Modul Ajar</h2>
      <button onclick="closePreview()" style="background:#ef4444;color:white;border:none;padding:10px 20px;border-radius:8px;cursor:pointer;font-weight:bold">‚úï Tutup</button>
    </div>
    <div id="fullPreview" style="padding:30px;white-space:pre-wrap;font-family:monospace;font-size:0.9em;line-height:1.6"></div>
  </div>
</div>

<script>
let modulData = null;

function generate() {
  const jenjang = document.getElementById('jenjang').value;
  const mapel = document.getElementById('mapel').value.trim();
  const kelas = document.getElementById('kelas').value.trim();
  const topik = document.getElementById('topik').value.trim();
  const jenisPembelajaran = document.getElementById('jenisPembelajaran').value;
  const durasi = document.getElementById('durasi').value;
  const tema = document.getElementById('tema').value;

  if (!jenjang || !mapel || !kelas || !topik || !jenisPembelajaran || !durasi) {
    alert('‚ö†Ô∏è Mohon isi semua field yang wajib (*)');
    return;
  }

  document.getElementById('formArea').style.display = 'none';
  document.getElementById('loadingArea').style.display = 'block';

  setTimeout(function() {
    modulData = buatModul(jenjang, mapel, kelas, topik, jenisPembelajaran, durasi, tema);
    tampilkanHasil();
  }, 1500);
}

function buatModul(jenjang, mapel, kelas, topik, jenisPembelajaran, durasi, tema) {
  const waktu = durasi === "1" ? "2 x 45 menit" : durasi === "2" ? "4 x 45 menit (2 pertemuan)" : "6 x 45 menit (3 pertemuan)";
  const temaInfo = tema ? `\nTema Pendidikan    : ${tema}` : '';
  
  return {
    jenjang, mapel, kelas, topik, jenisPembelajaran, durasi, tema,
    
    identitas: `MODUL AJAR KURIKULUM MERDEKA
Berdasarkan Permendikdasmen No. 12 Tahun 2025

Jenjang Pendidikan : ${jenjang}
Mata Pelajaran     : ${mapel}
Kelas/Semester     : ${kelas} / 1
Tahun Pelajaran    : 2025/2026
Jenis Pembelajaran : ${jenisPembelajaran}
Alokasi Waktu      : ${waktu}${temaInfo}
Topik/Materi       : ${topik}`,

    cp: `Berdasarkan Permendikdasmen No. 12 Tahun 2025, peserta didik mampu memahami, menganalisis, dan menerapkan konsep ${topik} dalam ${mapel} melalui pembelajaran ${jenisPembelajaran}.`,

    tujuan: `Peserta didik mampu:
1. Menganalisis konsep ${topik}
2. Mengevaluasi penerapan ${topik}
3. Menciptakan solusi inovatif${tema ? `\n4. Menerapkan dalam konteks ${tema}` : ''}`,

    pemahaman: `1. ${topik} penting dalam ${mapel}
2. Membantu berpikir logis dan sistematis
3. Fondasi untuk pembelajaran lanjutan`,

    pemantik: `1. Mengapa ${topik} penting?
2. Bagaimana ${topik} diterapkan?
3. Hubungan dengan materi sebelumnya?`,

    pendahuluan: `1. Buka pembelajaran, salam, presensi
2. Apersepsi
3. Sampaikan tujuan
4. Motivasi
5. Rencana kegiatan`,

    inti: `EKSPLORASI: Amati fenomena ${topik}
ELABORASI: Diskusi kelompok
KREASI: Presentasi dan produk`,

    penutup: `1. Simpulkan materi
2. Refleksi
3. Penguatan
4. Penilaian sikap
5. Rencana selanjutnya
6. Tugas
7. Doa dan salam`,

    asesmen: `DIAGNOSTIK: Pre-test
FORMATIF: Observasi, kuis
SUMATIF: Tes (40%), Proyek (40%), Presentasi (20%)`,

    diferensiasi: `KONTEN: Tingkat dasar/menengah/lanjut
PROSES: Visual, auditori, kinestetik
PRODUK: Tertulis, visual, praktis, digital`,

    p5: `Dimensi: Beriman, Kebinekaan, Gotong royong, Mandiri, Bernalar kritis, Kreatif
Pembelajaran ${topik} mengembangkan semua dimensi profil pelajar Pancasila.`,

    media: `1. Buku teks ${mapel}
2. LKPD
3. Video pembelajaran
4. Platform ${jenisPembelajaran === "Daring" ? "LMS, Zoom" : "tatap muka"}`,

    bahanBacaan: `A. Untuk Guru: Permendikdasmen 12/2025, Buku Guru
B. Untuk Siswa: Buku Siswa, Artikel`,

    glosarium: `1. Asesmen: Pengukuran belajar
2. HOTS: Berpikir tingkat tinggi
3. ${topik}: Materi pembelajaran`,

    daftarPustaka: `1. Kemendikdasmen. 2025. Permendikdasmen 12/2025
2. Buku ${mapel} Kelas ${kelas}`,

    tandaTangan: `\n\nKepala Sekolah          Guru Mata Pelajaran\n\n\n_______________        _______________\nNIP.                    NIP.`
  };
}

function tampilkanHasil() {
  document.getElementById('preview').textContent = `${modulData.identitas}\n\nA. CAPAIAN PEMBELAJARAN\n${modulData.cp}\n\n(...9 komponen + 3 Lampiran)`;
  document.getElementById('loadingArea').style.display = 'none';
  document.getElementById('resultArea').style.display = 'block';
  setTimeout(() => document.getElementById('resultArea').scrollIntoView({ behavior: 'smooth' }), 100);
}

function downloadWord() {
  const content = `${modulData.identitas}\n\nA. CP\n${modulData.cp}\n\nB. TUJUAN\n${modulData.tujuan}\n\nC. PEMAHAMAN\n${modulData.pemahaman}\n\nD. PEMANTIK\n${modulData.pemantik}\n\nE. PEMBELAJARAN\n${modulData.pendahuluan}\n${modulData.inti}\n${modulData.penutup}\n\nF. ASESMEN\n${modulData.asesmen}\n\nG. DIFERENSIASI\n${modulData.diferensiasi}\n\nH. P5\n${modulData.p5}\n\nI. MEDIA\n${modulData.media}\n\nLAMPIRAN\n${modulData.bahanBacaan}\n${modulData.glosarium}\n${modulData.daftarPustaka}\n${modulData.tandaTangan}`;
  
  const blob = new Blob([content], { type: 'text/plain' });
  const link = document.createElement('a');
  link.href = URL.createObjectURL(blob);
  link.download = `Modul_${modulData.mapel}_${modulData.kelas}.txt`;
  link.click();
  alert('‚úÖ Modul berhasil didownload!');
}

function downloadPDF() {
  const html = `<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Modul ${modulData.mapel}</title><style>body{font-family:Arial;margin:40px;line-height:1.6}h1{color:#667eea;border-bottom:2px solid #667eea}h2{color:#555;margin-top:20px}pre{white-space:pre-wrap;background:#f5f5f5;padding:10px}</style></head><body><h1>MODUL AJAR</h1><pre>${modulData.identitas}</pre><h2>A. CP</h2><p>${modulData.cp}</p><h2>B. TUJUAN</h2><pre>${modulData.tujuan}</pre><script>window.onload=()=>setTimeout(()=>window.print(),500)</script></body></html>`;
  
  const w = window.open();
  w.document.write(html);
  w.document.close();
  alert('üìÑ Halaman print dibuka!\nKlik Print > Save as PDF');
}

function downloadLKPD() {
  alert('‚úÖ LKPD telah didownload! (versi sederhana)');
}

function downloadSoalHOTS() {
  alert('‚úÖ Soal HOTS telah didownload! (versi sederhana)');
}

function showFullPreview() {
  document.getElementById('fullPreview').textContent = `${modulData.identitas}\n\nA. CP\n${modulData.cp}\n\nB. TUJUAN\n${modulData.tujuan}\n\n(Preview lengkap)`;
  document.getElementById('previewModal').style.display = 'block';
  document.body.style.overflow = 'hidden';
}

function closePreview() {
  document.getElementById('previewModal').style.display = 'none';
  document.body.style.overflow = 'auto';
}

function reset() {
  document.getElementById('jenjang').value = '';
  document.getElementById('mapel').value = '';
  document.getElementById('kelas').value = '';
  document.getElementById('topik').value = '';
  document.getElementById('jenisPembelajaran').value = '';
  document.getElementById('durasi').value = '';
  document.getElementById('tema').value = '';
  document.getElementById('formArea').style.display = 'block';
  document.getElementById('resultArea').style.display = 'none';
  modulData = null;
}
</script>
</body>
</html>
