<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Generator Modul Ajar AI</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    padding: 20px;
  }
  .container {
    background: white;
    border-radius: 20px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    max-width: 700px;
    margin: 20px auto;
    padding: 40px;
  }
  h1 { color: #667eea; text-align: center; margin-bottom: 10px; font-size: 2em; }
  .subtitle { text-align: center; color: #666; margin-bottom: 30px; font-size: 0.9em; }
  .form-group { margin-bottom: 20px; }
  label { display: block; margin-bottom: 8px; color: #333; font-weight: 600; }
  input, select, textarea {
    width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 10px; font-size: 1em;
  }
  .btn {
    width: 100%; padding: 15px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white; border: none; border-radius: 10px; font-size: 1.1em; font-weight: bold;
    cursor: pointer; margin-top: 10px;
  }
  .btn-download { background: linear-gradient(135deg, #10b981 0%, #059669 100%); }
  
  /* Style khusus Tombol LKPD agar terlihat beda */
  .btn-lkpd { background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); }
  
  .result-box { display: none; background: #d1fae5; border: 2px solid #10b981; border-radius: 10px; padding: 20px; margin-top: 20px; }
  .preview { background: white; border: 1px solid #ddd; border-radius: 5px; padding: 15px; max-height: 200px; overflow-y: auto; font-size: 0.9em; margin: 15px 0; }
  .loading { display: none; text-align: center; padding: 20px; }
  .spinner { border: 4px solid #f3f3f3; border-top: 4px solid #667eea; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 0 auto; }
  @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
</style>
</head>
<body>

<div class="container">
  <h1>ü§ñ Generator Modul Ajar AI</h1>
  <p class="subtitle">Kurikulum Merdeka - Cepat & Otomatis</p>

  <div id="formArea">
    <div class="form-group"><label>Jenjang *</label><select id="jenjang"><option value="SMP">SMP</option></select></div>
    <div class="form-group"><label>Mata Pelajaran *</label><input type="text" id="mapel" value="IPA"></div>
    <div class="form-group"><label>Kelas *</label><input type="text" id="kelas" value="VIII"></div>
    <div class="form-group"><label>Topik *</label><input type="text" id="topik" value="Sistem Pencernaan"></div>
    <button class="btn" onclick="generate()">üöÄ Generate Modul & LKPD</button>
  </div>

  <div id="loadingArea" class="loading"><div class="spinner"></div><p>Menyusun data...</p></div>

  <div id="resultArea" class="result-box">
    <h3>‚úÖ Berhasil Dibuat!</h3>
    <div class="preview" id="preview"></div>
    
    <div style="display:grid;grid-template-columns: 1fr 1fr; gap:10px; margin-top:10px;">
      <button class="btn btn-download" onclick="downloadWord()">üì• Download Modul</button>
      <button class="btn btn-lkpd" onclick="downloadLKPD()">üìù Download LKPD</button>
    </div>
    <button class="btn" onclick="location.reload()" style="background:#6b7280">Buat Baru</button>
  </div>
</div>

<script>
let modulData = null;

function generate() {
  const jenjang = document.getElementById('jenjang').value;
  const mapel = document.getElementById('mapel').value;
  const kelas = document.getElementById('kelas').value;
  const topik = document.getElementById('topik').value;

  document.getElementById('formArea').style.display = 'none';
  document.getElementById('loadingArea').style.display = 'block';

  setTimeout(() => {
    modulData = {
      jenjang, mapel, kelas, topik,
      identitas: `MODUL AJAR\nMapel: ${mapel}\nTopik: ${topik}`
    };
    document.getElementById('preview').innerText = modulData.identitas + "\n\n(Draft Modul & LKPD telah siap diunduh)";
    document.getElementById('loadingArea').style.display = 'none';
    document.getElementById('resultArea').style.display = 'block';
  }, 1000);
}

function downloadWord() {
  const blob = new Blob([modulData.identitas], {type: 'text/plain'});
  const link = document.createElement('a');
  link.href = URL.createObjectURL(blob);
  link.download = "Modul_Ajar.txt";
  link.click();
}

function downloadLKPD() {
  const isiLKPD = `LEMBAR KERJA PESERTA DIDIK (LKPD)\nTopik: ${modulData.topik}\n\n1. Amati gambar sistem pencernaan...\n2. Jelaskan fungsi lambung...`;
  const blob = new Blob([isiLKPD], {type: 'text/plain'});
  const link = document.createElement('a');
  link.href = URL.createObjectURL(blob);
  link.download = "LKPD_" + modulData.topik + ".txt";
  link.click();
}
</script>
</body>
</html>
